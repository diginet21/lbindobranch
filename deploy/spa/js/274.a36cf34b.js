"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[274],{7274:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var a=t(3673),n=t(8880),s=t(1959),r=t(3617),i=t(9582);const d=e=>((0,a.dD)("data-v-7d5b0086"),e=e(),(0,a.Cn)(),e),o={class:"q-py-sm"},u=d((()=>(0,a._)("div",{class:"row items-center q-gutter-x-md"},[(0,a._)("div",{class:"title"},"Edit Banner")],-1))),c={class:"card-box card-lg"},m={class:"q-mt-md"},p={class:"flex justify-between"},b=d((()=>(0,a._)("div",{class:"text-xs text-grey-7"},'Gunakan absolute url jika eksternal link. eg: "https://google.com" ',-1))),g={class:"q-mt-md"},_={class:"q-mt-md"},v={class:"flex justify-between q-mb-md"},y=d((()=>(0,a._)("div",{class:"text-md"},"Banner",-1))),x={class:"bg-grey-2",style:{"min-height":"160px"}},h=["src"],f={key:1,class:"flex justify-center items-center"},q=["onClick"],k=d((()=>(0,a._)("div",{class:"text-grey-7 cursor-pointer"},"Upload Image",-1))),U={class:"flex justify-end q-mt-md q-gutter-md"},w={setup(e){const l=(0,r.oR)(),t=(0,i.yj)(),d=(0,s.Fl)((()=>l.getters["postCategory/getPostCategoryOptions"])),w=(0,s.iH)(null),S=(0,s.qj)({id:null,title:"",image:"",is_external_url:!1,url_path:"",banner_type:""}),C=(0,s.iH)("");(0,a.wF)((()=>{t.params.id&&W(t.params.id)}));const W=e=>{l.dispatch("banner/getBannerById",e).then((e=>{let l=e.data.data;console.log(l),w.value=l,S.id=l.id,S.title=l.title,S.banner_type=l.banner_type,S.is_external_url=l.is_external_url,S.url_path=l.url_path,C.value=l.asset.src}))};(0,a.bv)((()=>{d.value.length||l.dispatch("postCategory/getPostCategories")}));const B=(0,s.Fl)((()=>l.state.loading));console.log(B);const V=()=>{l.dispatch("banner/updateBanner",S)},Z=e=>{let l=e.target.files[0];if(!l)return;S.image=l;const t=new FileReader;t.onload=e=>{C.value=e.target.result},t.readAsDataURL(l)},I=()=>{document.getElementById("inputFile").click()},Q=["Front","Post"];return(e,l)=>{const t=(0,a.up)("q-breadcrumbs-el"),r=(0,a.up)("q-breadcrumbs"),i=(0,a.up)("q-input"),d=(0,a.up)("q-checkbox"),w=(0,a.up)("q-select"),W=(0,a.up)("q-btn"),j=(0,a.up)("q-icon"),F=(0,a.up)("q-form"),D=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(D,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",o,[u,(0,a.Wm)(r,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Banner"}),(0,a.Wm)(t,{label:"Edit"})])),_:1})]),(0,a.Wm)(F,{onSubmit:(0,n.iM)(V,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Wm)(i,{outlined:"",modelValue:(0,s.SU)(S).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.SU)(S).title=e),label:"Label"},null,8,["modelValue"]),(0,a._)("div",m,[(0,a._)("div",p,[(0,a.Wm)(d,{modelValue:(0,s.SU)(S).is_external_url,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,s.SU)(S).is_external_url=e),label:"External Link?"},null,8,["modelValue"])]),(0,a.Wm)(i,{outlined:"",modelValue:(0,s.SU)(S).url_path,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,s.SU)(S).url_path=e),label:"Path / Url"},null,8,["modelValue"]),b]),(0,a._)("div",g,[(0,a.Wm)(w,{class:"q-mb-md",outlined:"",modelValue:(0,s.SU)(S).banner_type,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,s.SU)(S).banner_type=e),label:"Banner Type",options:Q},null,8,["modelValue"]),(0,a._)("div",_,[(0,a._)("div",v,[y,(0,a.Wm)(W,{label:"Upload Image",onClick:(0,n.iM)(I,["prevent"]),unelevated:"",color:"primary",size:"12px"},null,8,["onClick"])]),(0,a._)("input",{id:"inputFile",type:"file",onInput:Z,class:"hidden"},null,32),(0,a._)("div",x,[C.value?((0,a.wg)(),(0,a.iD)("img",{key:0,src:C.value,class:"img-preview"},null,8,h)):((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",{class:"text-center cursor-pointer",onClick:(0,n.iM)(I,["prevent"])},[(0,a.Wm)(j,{name:"upload",size:"lg",color:"grey-6"}),k],8,q)]))])]),(0,a._)("div",U,[(0,a.Wm)(W,{disable:(0,s.SU)(B),label:"Cancel",color:"primary",flat:"",to:{name:"BannerIndex"}},null,8,["disable"]),(0,a.Wm)(W,{loading:(0,s.SU)(B),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"])])])])])),_:1},8,["onSubmit"])])),_:1})}}};var S=t(4260),C=t(4379),W=t(1481),B=t(5926),V=t(5269),Z=t(4842),I=t(5735),Q=t(1935),j=t(2165),F=t(4554),D=t(7518),E=t.n(D);const P=(0,S.Z)(w,[["__scopeId","data-v-7d5b0086"]]),L=P;E()(w,"components",{QPage:C.Z,QBreadcrumbs:W.Z,QBreadcrumbsEl:B.Z,QForm:V.Z,QInput:Z.Z,QCheckbox:I.Z,QSelect:Q.Z,QBtn:j.Z,QIcon:F.Z})}}]);