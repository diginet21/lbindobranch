"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[452],{4452:(l,e,t)=>{t.r(e),t.d(e,{default:()=>M});t(5363);var a=t(3673),d=t(1959),o=t(2323),n=t(3617),s=(t(1525),t(9582));const u={class:"q-py-sm"},r=(0,a._)("div",{class:"row items-center q-gutter-x-md"},[(0,a._)("div",{class:"title"},"Edit Order")],-1),i={key:0},_={class:"card-column q-pa-md"},m=(0,a._)("div",{class:"card-title"},[(0,a._)("h2",null,"Customer Info")],-1),c={class:"q-gutter-y-sm"},p={class:"card-column q-pa-md"},b=(0,a._)("div",{class:"card-title"},[(0,a._)("h2",null,"Additional Cost")],-1),U={class:"q-gutter-y-sm"},h={class:"card-column q-pa-md"},v=(0,a._)("div",{class:"card-title"},[(0,a._)("h2",null,"Order Info")],-1),g={class:"q-gutter-y-sm"},S={class:"card-column q-pa-md"},y=(0,a._)("div",{class:"card-title"},[(0,a._)("h2",null,"Order Items")],-1),V={class:"table striped"},q=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Description"),(0,a._)("th",null,"Qty"),(0,a._)("th",null,"Price"),(0,a._)("th",null,"Subtotal")])],-1),w={class:"column items-end q-mt-md"},f={class:"table dense bolder align-right"},x=(0,a._)("td",null,"Subtotal",-1),k=(0,a._)("td",null,"Rp",-1),W={key:0},C=(0,a._)("td",null,"Ongkos Kirim",-1),z=(0,a._)("td",null,"Rp",-1),O={key:1},D=(0,a._)("div",null,"Additional Cost",-1),I={key:0,class:"text-caption"},$=(0,a._)("td",null,"Rp",-1),Q=(0,a._)("td",null,"Total Order",-1),R=(0,a._)("td",null,"Rp",-1),A={class:"table dense bolder q-mt-md align-right"},B=(0,a._)("td",null,"Rp",-1),F=(0,a._)("td",null,"Grand Total",-1),Z=(0,a._)("td",null,"Rp",-1),j={class:"q-gutter-x-sm flex justify-end q-pa-lg"},T={setup(l){const e=(0,n.oR)(),t=(0,s.yj)(),T=(0,d.iH)(null),P=()=>{e.dispatch("order/getById",t.params.id).then((l=>{200==l.status&&(T.value=l.data.data,E(l.data.data))}))},E=l=>{H.id=l.id,H.customer_name=l.customer_name,H.customer_phone=l.customer_phone,H.customer_email=l.customer_email,H.customer_address=l.customer_address,H.order_status=l.order_status,H.order_note=l.order_note,H.order_tax=l.order_tax,H.shipping_cost=l.shipping_cost,H.order_subtotal=l.order_subtotal,H.additional_cost_amount=l.additional_cost_amount,H.additional_cost_description=l.additional_cost_description},H=(0,d.qj)({id:"",_method:"PUT",customer_name:"",customer_phone:"",customer_email:"",customer_address:"",order_note:"",order_tax:"",order_status:"",additional_cost_amount:"",shipping_cost:"",additional_cost_description:"",order_subtotal:""});(0,a.bv)((()=>P()));const K=(0,d.Fl)({get(){return H.additional_cost_amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},set(l){l&&(H.additional_cost_amount=l.split(".").join(""))}}),N=(0,d.Fl)((()=>parseInt(H.order_subtotal)*parseInt(H.order_tax)/100)),G=(0,d.Fl)((()=>H.additional_cost_amount.length?parseInt(H.additional_cost_amount):0)),Y=(0,d.Fl)((()=>T.value.order_subtotal+G.value+T.value.shipping_cost)),J=(0,d.Fl)((()=>Y.value+N.value)),L=()=>{e.dispatch("order/update",H)},M=(0,d.Fl)((()=>e.state.order.order_status));return(l,e)=>{const t=(0,a.up)("q-breadcrumbs-el"),n=(0,a.up)("q-breadcrumbs"),s=(0,a.up)("q-input"),P=(0,a.up)("money-formatter"),E=(0,a.up)("q-select"),G=(0,a.up)("q-btn"),X=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(X,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",u,[r,(0,a.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Order"})])),_:1})]),T.value?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",_,[m,(0,a._)("div",c,[(0,a.Wm)(s,{filled:"",label:"Customer Name",modelValue:(0,d.SU)(H).customer_name,"onUpdate:modelValue":e[0]||(e[0]=l=>(0,d.SU)(H).customer_name=l)},null,8,["modelValue"]),(0,a.Wm)(s,{filled:"",label:"Customer Email",modelValue:(0,d.SU)(H).customer_email,"onUpdate:modelValue":e[1]||(e[1]=l=>(0,d.SU)(H).customer_email=l)},null,8,["modelValue"]),(0,a.Wm)(s,{filled:"",label:"Customer Phone ",modelValue:(0,d.SU)(H).customer_phone,"onUpdate:modelValue":e[2]||(e[2]=l=>(0,d.SU)(H).customer_phone=l)},null,8,["modelValue"]),(0,a.Wm)(s,{filled:"",type:"textarea",label:"Customer Address",modelValue:(0,d.SU)(H).customer_address,"onUpdate:modelValue":e[3]||(e[3]=l=>(0,d.SU)(H).customer_address=l)},null,8,["modelValue"])])]),(0,a._)("div",p,[b,(0,a._)("div",U,[(0,a.Wm)(P,{modelValue:(0,d.SU)(K),"onUpdate:modelValue":e[4]||(e[4]=l=>(0,d.dq)(K)?K.value=l:null),label:"Additional Cost Amount"},null,8,["modelValue"]),(0,a.Wm)(s,{filled:"",label:"Additional Cost Description",modelValue:(0,d.SU)(H).additional_cost_description,"onUpdate:modelValue":e[5]||(e[5]=l=>(0,d.SU)(H).additional_cost_description=l)},null,8,["modelValue"])])]),(0,a._)("div",h,[v,(0,a._)("div",g,[(0,a.Wm)(s,{filled:"",label:"Order Tax",modelValue:(0,d.SU)(H).order_tax,"onUpdate:modelValue":e[6]||(e[6]=l=>(0,d.SU)(H).order_tax=l),suffix:"%"},null,8,["modelValue"]),(0,a.Wm)(s,{filled:"",label:"Shipping Cost",modelValue:(0,d.SU)(H).shipping_cost,"onUpdate:modelValue":e[7]||(e[7]=l=>(0,d.SU)(H).shipping_cost=l)},null,8,["modelValue"]),(0,a.Wm)(E,{filled:"",modelValue:(0,d.SU)(H).order_status,"onUpdate:modelValue":e[8]||(e[8]=l=>(0,d.SU)(H).order_status=l),label:"Order Status",options:(0,d.SU)(M)},null,8,["modelValue","options"]),(0,a.Wm)(s,{filled:"",type:"textarea",modelValue:(0,d.SU)(H).order_note,"onUpdate:modelValue":e[9]||(e[9]=l=>(0,d.SU)(H).order_note=l),label:"Order Note"},null,8,["modelValue"])])]),(0,a._)("div",S,[y,(0,a._)("table",V,[q,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.value.items,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,o.zw)(e.product_name),1),(0,a._)("td",null,(0,o.zw)(e.quantity),1),(0,a._)("td",null,(0,o.zw)(l.$money(e.product_price)),1),(0,a._)("td",null,(0,o.zw)(l.$money(e.product_price*e.quantity)),1)])))),128))])]),(0,a._)("div",w,[(0,a._)("table",f,[(0,a._)("tr",null,[x,k,(0,a._)("td",null,(0,o.zw)(l.$money(T.value.order_subtotal)),1)]),T.value.shipping_cost?((0,a.wg)(),(0,a.iD)("tr",W,[C,z,(0,a._)("td",null,(0,o.zw)(l.$money(T.value.shipping_cost)),1)])):(0,a.kq)("",!0),(0,d.SU)(H).additional_cost_amount?((0,a.wg)(),(0,a.iD)("tr",O,[(0,a._)("td",null,[D,(0,d.SU)(H).additional_cost_description?((0,a.wg)(),(0,a.iD)("div",I,"("+(0,o.zw)((0,d.SU)(H).additional_cost_description)+")",1)):(0,a.kq)("",!0)]),$,(0,a._)("td",null,(0,o.zw)(l.$money((0,d.SU)(H).additional_cost_amount)),1)])):(0,a.kq)("",!0),(0,a._)("tr",null,[Q,R,(0,a._)("td",null,(0,o.zw)(l.$money((0,d.SU)(Y))),1)])]),(0,a._)("table",A,[(0,a._)("tr",null,[(0,a._)("td",null,"Tax ("+(0,o.zw)(T.value.order_tax)+"%)",1),B,(0,a._)("td",null,(0,o.zw)(l.$money((0,d.SU)(N))),1)]),(0,a._)("tr",null,[F,Z,(0,a._)("td",null,(0,o.zw)(l.$money((0,d.SU)(J))),1)])])])])])):(0,a.kq)("",!0),(0,a._)("div",j,[(0,a.Wm)(G,{label:"Back",color:"primary",outline:"",to:{name:"OrderIndex"}}),(0,a.Wm)(G,{onClick:L,label:"Update",color:"primary",unelevated:""})])])),_:1})}}};var P=t(4379),E=t(1481),H=t(5926),K=t(4842),N=t(9396),G=t(2165),Y=t(7518),J=t.n(Y);const L=T,M=L;J()(T,"components",{QPage:P.Z,QBreadcrumbs:E.Z,QBreadcrumbsEl:H.Z,QInput:K.Z,QSelect:N.Z,QBtn:G.Z})}}]);