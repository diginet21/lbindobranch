"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[32],{5032:(e,a,l)=>{l.r(a),l.d(a,{default:()=>F});l(9544);var t=l(3673),u=l(2323),n=l(8880),i=l(1959),o=l(3617),s=l(9582),d=l(6249),r=l(5474),m=l(2535);const c={class:"q-py-sm"},p={class:"q-pt-md"},h={class:"card-box card-xl"},v={key:0,class:""},b={key:1},w={class:"relative"},g={class:"absolute bg-white z-50 full-width scroll",style:{"max-height":"200px"}},f={class:"flex justify-end q-gutter-x-sm q-mt-lg"},y={setup(e){const a=(0,o.oR)(),l=((0,s.yj)(),(0,i.Fl)((()=>a.state.loading)),(0,i.Fl)((()=>a.state.branch))),y=(0,i.Fl)((()=>a.state.cities));(0,t.wF)((()=>{y.value.length||a.dispatch("getCities"),l.value?q(l.value):(0,r.Api)().get("getCurrentBranch").then((e=>{200==e.status&&(a.commit("SET_BRANCH",e.data.data),Notify.create({type:"positive",message:"Berhasil memperbarui data"}))}))}));const _=(0,i.Fl)((()=>y.value.map((e=>({value:e.id,label:e.type+" "+e.city_name,...e}))))),S="Branch Setting",W=(0,i.qj)({id:"",name:"",phone:"",email:"",address:"",warehouse:""}),q=e=>{W.id=e.id,W.name=e.name,W.phone=e.phone,W.email=e.email,W.address=e.address,W.warehouse=e.warehouse,C.value=`${W.warehouse.subdistrict_name} ${W.warehouse.type}  ${W.warehouse.city} - ${W.warehouse.province}`},V=()=>{d.Z.show(),a.dispatch("config/updateBranch",W).then((e=>{200==e.status&&a.commit("SET_BRANCH",e.data.data)})).finally((()=>d.Z.hide()))},U=(0,i.iH)(""),Z=((0,i.Fl)((()=>U.value.length?_.value.filter((e=>e.city_name.toLowerCase().indexOf(U.value)>-1)):_.value)),(0,i.iH)("")),k=(0,i.iH)([]),C=(0,i.iH)(""),B=()=>{Z.value.length>=3&&a.dispatch("branch/findSubdistrict",Z.value).then((e=>{k.value=e.data.results}))},Q=e=>{W.warehouse=e,C.value=`${W.warehouse.subdistrict_name} ${W.warehouse.type}  ${W.warehouse.city} - ${W.warehouse.province}`,k.value=[],Z.value=""};return(e,a)=>{const l=(0,t.up)("q-breadcrumbs-el"),o=(0,t.up)("q-breadcrumbs"),s=(0,t.up)("q-input"),d=(0,t.up)("q-icon"),r=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),_=(0,t.up)("q-list"),q=(0,t.up)("q-btn"),U=(0,t.up)("q-form"),x=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(x,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},(0,u.zw)(S))]),(0,t.Wm)(o,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{label:"Dashboard"}),(0,t.Wm)(l,{label:S})])),_:1})]),(0,t._)("div",p,[(0,t.Wm)(m.Z)]),(0,t._)("div",h,[(0,t.Wm)(U,{onSubmit:(0,n.iM)(V,["prevent"]),class:"q-gutter-y-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{filled:"",modelValue:(0,i.SU)(W).name,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.SU)(W).name=e),label:"Name"},null,8,["modelValue"]),(0,t.Wm)(s,{filled:"",modelValue:(0,i.SU)(W).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,i.SU)(W).phone=e),label:"Phone"},null,8,["modelValue"]),(0,t.Wm)(s,{filled:"",modelValue:(0,i.SU)(W).email,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,i.SU)(W).email=e),label:"Email"},null,8,["modelValue"]),(0,t.Wm)(s,{filled:"",type:"textarea",modelValue:(0,i.SU)(W).address,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,i.SU)(W).address=e),label:"Address"},null,8,["modelValue"]),(0,t._)("div",null,[(0,i.SU)(W).warehouse?((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(s,{modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=e=>C.value=e),label:"Warehouse",filled:"",readonly:""},(0,t.Nv)({_:2},[C.value?{name:"append",fn:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"close",onClick:a[4]||(a[4]=e=>(0,i.SU)(W).warehouse=""),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",b,[(0,t.Wm)(s,{placeholder:"Ketik kecamatan",label:"Warehouse",filled:"",options:k.value,"use-input":"",modelValue:Z.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>Z.value=e),B]},null,8,["options","modelValue"]),(0,t._)("div",w,[(0,t._)("div",g,[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(k.value,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.id,onClick:a=>Q(e),clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.subdistrict_name)+" "+(0,u.zw)(e.type)+" "+(0,u.zw)(e.city)+" - "+(0,u.zw)(e.province),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])])]))]),(0,t._)("div",f,[(0,t.Wm)(q,{label:"Cancel",outline:"",color:"primary",to:{name:"BranchIndex"}}),(0,t.Wm)(q,{label:"Submit",type:"submit",unelevated:"",color:"primary"})])])),_:1},8,["onSubmit"])])])),_:1})}}};var _=l(4379),S=l(1481),W=l(5926),q=l(5269),V=l(4842),U=l(4554),Z=l(7011),k=l(3414),C=l(2035),B=l(2165),Q=l(7518),x=l.n(Q);const $=y,F=$;x()(y,"components",{QPage:_.Z,QBreadcrumbs:S.Z,QBreadcrumbsEl:W.Z,QForm:q.Z,QInput:V.Z,QIcon:U.Z,QList:Z.Z,QItem:k.Z,QItemSection:C.Z,QBtn:B.Z})},2535:(e,a,l)=>{l.d(a,{Z:()=>c});var t=l(3673);function u(e,a){const l=(0,t.up)("q-route-tab"),u=(0,t.up)("q-tabs");return(0,t.wg)(),(0,t.j4)(u,{align:"left","active-color":"primary","active-bg-color":"green-1","content-class":"bg-grey-2",dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{label:"Branch Setting",to:{name:"BranchConfig"}}),(0,t.Wm)(l,{label:"Paygate Setting",to:{name:"PaygateConfig"}})])),_:1})}var n=l(4260),i=l(7547),o=l(208),s=l(7518),d=l.n(s);const r={},m=(0,n.Z)(r,[["render",u]]),c=m;d()(r,"components",{QTabs:i.Z,QRouteTab:o.Z})}}]);