"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[274],{7274:(e,l,a)=>{a.r(l),a.d(l,{default:()=>M});var t=a(3673),n=a(8880),r=a(1959),i=a(3617),d=a(9582);const s=e=>((0,t.dD)("data-v-3d09a1c4"),e=e(),(0,t.Cn)(),e),u={class:"q-py-sm"},o=s((()=>(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},"Edit Banner")],-1))),c={class:"card-box card-lg"},m={class:"q-mt-md"},p={class:"flex justify-between"},b=s((()=>(0,t._)("div",{class:"text-xs text-grey-7"},'Gunakan absolute url jika eksternal link. eg: "https://google.com" ',-1))),_={class:"q-mt-md"},g={class:"q-mt-md"},v={class:"flex justify-between q-mb-md"},y=s((()=>(0,t._)("div",{class:"text-md"},"Banner",-1))),x={class:"bg-grey-2",style:{"min-height":"160px"}},h=["src"],f={key:1,class:"flex justify-center items-center"},q=["onClick"],k=s((()=>(0,t._)("div",{class:"text-grey-7 cursor-pointer"},"Upload Image",-1))),U={class:"flex justify-end q-mt-md q-gutter-md"},w={setup(e){const l=(0,i.oR)(),a=(0,d.yj)(),s=(0,r.iH)(null),w=(0,r.qj)({id:null,title:"",image:"",is_external_url:!1,url_path:"",banner_type:""}),S=(0,r.iH)("");(0,t.wF)((()=>{a.params.id&&W(a.params.id)}));const W=e=>{l.dispatch("banner/getBannerById",e).then((e=>{let l=e.data.data;s.value=l,w.id=l.id,w.title=l.title,w.banner_type=l.banner_type,w.is_external_url=l.is_external_url,w.url_path=l.url_path,S.value=l.asset.src}))},B=(0,r.Fl)((()=>l.state.loading)),V=()=>{l.dispatch("banner/updateBanner",w)},Z=e=>{let l=e.target.files[0];if(!l)return;w.image=l;const a=new FileReader;a.onload=e=>{S.value=e.target.result},a.readAsDataURL(l)},C=()=>{document.getElementById("inputFile").click()},I=["Front","Post"];return(e,l)=>{const a=(0,t.up)("q-breadcrumbs-el"),i=(0,t.up)("q-breadcrumbs"),d=(0,t.up)("q-input"),s=(0,t.up)("q-checkbox"),W=(0,t.up)("q-select"),Q=(0,t.up)("q-btn"),j=(0,t.up)("q-icon"),F=(0,t.up)("q-form"),D=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(D,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",u,[o,(0,t.Wm)(i,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Dashboard"}),(0,t.Wm)(a,{label:"Banner"}),(0,t.Wm)(a,{label:"Edit"})])),_:1})]),(0,t.Wm)(F,{onSubmit:(0,n.iM)(V,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(d,{outlined:"",modelValue:(0,r.SU)(w).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,r.SU)(w).title=e),label:"Label"},null,8,["modelValue"]),(0,t._)("div",m,[(0,t._)("div",p,[(0,t.Wm)(s,{modelValue:(0,r.SU)(w).is_external_url,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,r.SU)(w).is_external_url=e),label:"External Link?"},null,8,["modelValue"])]),(0,t.Wm)(d,{outlined:"",modelValue:(0,r.SU)(w).url_path,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,r.SU)(w).url_path=e),label:"Path / Url"},null,8,["modelValue"]),b]),(0,t._)("div",_,[(0,t.Wm)(W,{class:"q-mb-md",outlined:"",modelValue:(0,r.SU)(w).banner_type,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,r.SU)(w).banner_type=e),label:"Banner Type",options:I},null,8,["modelValue"]),(0,t._)("div",g,[(0,t._)("div",v,[y,(0,t.Wm)(Q,{label:"Upload Image",onClick:(0,n.iM)(C,["prevent"]),unelevated:"",color:"primary",size:"12px"},null,8,["onClick"])]),(0,t._)("input",{id:"inputFile",type:"file",onInput:Z,class:"hidden"},null,32),(0,t._)("div",x,[S.value?((0,t.wg)(),(0,t.iD)("img",{key:0,src:S.value,class:"img-preview"},null,8,h)):((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",{class:"text-center cursor-pointer",onClick:(0,n.iM)(C,["prevent"])},[(0,t.Wm)(j,{name:"upload",size:"lg",color:"grey-6"}),k],8,q)]))])]),(0,t._)("div",U,[(0,t.Wm)(Q,{disable:(0,r.SU)(B),label:"Cancel",color:"primary",flat:"",to:{name:"BannerIndex"}},null,8,["disable"]),(0,t.Wm)(Q,{loading:(0,r.SU)(B),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"])])])])])),_:1},8,["onSubmit"])])),_:1})}}};var S=a(4260),W=a(4379),B=a(1481),V=a(5926),Z=a(5269),C=a(4842),I=a(5735),Q=a(9396),j=a(2165),F=a(4554),D=a(7518),E=a.n(D);const L=(0,S.Z)(w,[["__scopeId","data-v-3d09a1c4"]]),M=L;E()(w,"components",{QPage:W.Z,QBreadcrumbs:B.Z,QBreadcrumbsEl:V.Z,QForm:Z.Z,QInput:C.Z,QCheckbox:I.Z,QSelect:Q.Z,QBtn:j.Z,QIcon:F.Z})}}]);