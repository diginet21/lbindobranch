"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[912],{4912:(l,t,e)=>{e.r(t),e.d(t,{default:()=>M});e(71);var a=e(3673),d=e(2323),s=e(1959),n=e(3617),u=e(1914),o=e(6417);const r={class:"q-py-sm"},c=(0,a._)("div",{class:"title"},"Dashboard",-1),i={class:"q-my-md"},_={class:"row q-gutter-md"},m={class:"col"},p={class:"text-xl text-weight-bold"},w=(0,a._)("div",null,"Leads",-1),h={class:"col"},v={class:"text-xl text-weight-bold"},b=(0,a._)("div",null,"Order",-1),g=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Branch Url")],-1),y=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Tripay Callback Url")],-1),f=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Orders")],-1),q={class:"table-responsive"},x={class:"table striped"},W=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#Invoice"),(0,a._)("th",null,"Customer"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"Type"),(0,a._)("th",{align:"right"},"Status")])],-1),k={class:"text-grey-8"},z={class:"text-uppercase"},U={align:"right"},S={key:0},Z=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),C=[Z],D=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Leads")],-1),F={class:"table-responsive"},Q={class:"table striped"},B=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Phone"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status"),(0,a._)("th",{align:"right"},"Actions")])],-1),V={align:"right"},N={class:"q-gutter-sm"},L={key:0},T=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),H=[T],I={setup(l){const t=(0,n.oR)();t.dispatch("lead/getNewLeadCount");const e=(0,s.Fl)((()=>t.state.branch)),Z=(0,s.Fl)((()=>t.state.lead.main_data)),T=(0,s.Fl)((()=>t.state.order.main_data)),I=(0,s.Fl)((()=>{if(T.value.data.length){let l=[...T.value.data];return l.splice(0,5)}return[]})),O=(0,s.Fl)((()=>{if(Z.value.data.length){let l=[...Z.value.data];return l.splice(0,5)}return[]}));(0,a.wF)((()=>{Z.value.length||t.dispatch("lead/getAll"),t.dispatch("order/getOrders")}));const R=(0,s.Fl)({get(){let l=e.value.main_url;return e.value&&(l+=`?bid=${e.value.id}`),l},set(l){console.log(l)}}),A=(0,s.Fl)({get(){return e.value.tripay_callback},set(l){console.log(l)}}),E=l=>{(0,u.Z)(l).then((()=>{o.Z.create({type:"positive",message:"Berhasil menyalin alamat url",timeout:700})}))};return(l,t)=>{const e=(0,a.up)("q-breadcrumbs-el"),n=(0,a.up)("q-breadcrumbs"),u=(0,a.up)("q-card-section"),o=(0,a.up)("q-card"),K=(0,a.up)("q-btn"),P=(0,a.up)("q-input"),Y=(0,a.up)("q-badge"),$=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)($,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[c,(0,a.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(e,{label:"Dashboard"}),(0,a.Wm)(e,{label:"Home"})])),_:1})]),(0,a._)("div",i,[(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(o,{class:"box-shadow border-bottom primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,d.zw)((0,s.SU)(Z).total),1),w])),_:1})])),_:1})]),(0,a._)("div",h,[(0,a.Wm)(o,{class:"box-shadow border-bottom positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",v,(0,d.zw)((0,s.SU)(T).total),1),b])),_:1})])),_:1})])]),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[g,(0,a.Wm)(P,{readonly:"",modelValue:(0,s.SU)(R),"onUpdate:modelValue":t[1]||(t[1]=l=>(0,s.dq)(R)?R.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{icon:"content_copy",flat:"",dense:"",onClick:t[0]||(t[0]=l=>E((0,s.SU)(R)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[y,(0,a.Wm)(P,{readonly:"",modelValue:(0,s.SU)(A),"onUpdate:modelValue":t[3]||(t[3]=l=>(0,s.dq)(A)?A.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(K,{icon:"content_copy",flat:"",dense:"",onClick:t[2]||(t[2]=l=>E((0,s.SU)(A)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[f,(0,a._)("div",q,[(0,a._)("table",x,[W,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(I),((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(t.invoice_id),1),(0,a._)("div",k,(0,d.zw)(t.created_at),1)]),(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(t.customer_name),1),(0,a._)("div",null,(0,d.zw)(t.customer_phone),1)]),(0,a._)("td",null,(0,d.zw)(l.$moneyIdr(t.order_total)),1),(0,a._)("td",null,[(0,a._)("div",z,(0,d.zw)(t.order_type.split("_")[0]),1)]),(0,a._)("td",U,(0,d.zw)(t.order_status),1)])))),128)),(0,s.SU)(T).total?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",S,C))])])])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[D,(0,a._)("div",F,[(0,a._)("table",Q,[B,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(O),((l,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:l.id},[(0,a._)("td",null,(0,d.zw)(t+1),1),(0,a._)("td",null,(0,d.zw)(l.customer_name),1),(0,a._)("td",null,(0,d.zw)(l.customer_phone),1),(0,a._)("td",null,(0,d.zw)(l.lead_type),1),(0,a._)("td",null,[(0,a.Wm)(Y,{color:"teal"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(l.status?l.status.label:"New"),1)])),_:2},1024)]),(0,a._)("td",V,[(0,a._)("div",N,[(0,a.Wm)(K,{round:"",icon:"edit",size:"sm",color:"blue",unelevated:"",to:{name:"LeadEdit",params:{id:l.id}}},null,8,["to"])])])])))),128)),(0,s.SU)(Z).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",L,H))])])])])),_:1})])),_:1})])])),_:1})}}};var O=e(4379),R=e(1481),A=e(5926),E=e(151),K=e(5589),P=e(4842),Y=e(2165),$=e(9721),j=e(7518),G=e.n(j);const J=I,M=J;G()(I,"components",{QPage:O.Z,QBreadcrumbs:R.Z,QBreadcrumbsEl:A.Z,QCard:E.Z,QCardSection:K.Z,QInput:P.Z,QBtn:Y.Z,QBadge:$.Z})}}]);