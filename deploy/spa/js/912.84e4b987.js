"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[912],{4912:(l,e,t)=>{t.r(e),t.d(e,{default:()=>M});t(71);var a=t(3673),d=t(2323),s=t(1959),n=t(3617),u=t(1914),o=t(4434);const r={class:"q-py-sm"},c=(0,a._)("div",{class:"title"},"Dashboard",-1),i={class:"q-my-md"},_={class:"row q-gutter-md"},m={class:"col"},p={class:"text-xl text-weight-bold"},w=(0,a._)("div",null,"Leads",-1),v={class:"col"},h={class:"text-xl text-weight-bold"},b=(0,a._)("div",null,"Order",-1),g=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Branch Url")],-1),y=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Tripay Callback Url")],-1),q=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Orders")],-1),f={class:"table-responsive"},x={class:"table striped"},W=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#Invoice"),(0,a._)("th",null,"Customer"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status")])],-1),k={key:0},U={class:"text-grey-8"},z={class:"text-uppercase"},S={key:0},D=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),Z=[D],C=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Leads")],-1),F={class:"table-responsive"},Q={class:"table striped"},B=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Phone"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status"),(0,a._)("th",null,"Actions")])],-1),V={key:0},N={class:"q-gutter-sm"},L={key:0},T=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),H=[T],I={setup(l){const e=(0,n.oR)();e.dispatch("lead/getNewLeadCount");const t=(0,s.Fl)((()=>e.state.branch)),D=(0,s.Fl)((()=>e.state.lead.main_data)),T=(0,s.Fl)((()=>e.state.order.main_data)),I=(0,s.Fl)((()=>{if(T.value.data.length){let l=[...T.value.data];return l.splice(0,5)}return[]})),O=(0,s.Fl)((()=>{if(D.value.data.length){let l=[...D.value.data];return l.splice(0,5)}return[]}));(0,a.wF)((()=>{D.value.length||e.dispatch("lead/getAll"),T.value.length||e.dispatch("order/getOrders")}));const R=(0,s.Fl)({get(){let l=t.value.main_url;return t.value&&(l+=`?branch=${t.value.slug}`),l},set(l){console.log(l)}}),$=(0,s.Fl)({get(){let l=t.value.main_url;return t.value&&(l+=`/api/tripay/callback?bid=${t.value.id}`),l},set(l){console.log(l)}}),A=l=>{(0,u.Z)(l).then((()=>{o.Z.create({type:"positive",message:"Berhasil menyalin alamat url",timeout:700})}))};return(l,e)=>{const t=(0,a.up)("q-breadcrumbs-el"),n=(0,a.up)("q-breadcrumbs"),u=(0,a.up)("q-card-section"),o=(0,a.up)("q-card"),E=(0,a.up)("q-btn"),K=(0,a.up)("q-input"),P=(0,a.up)("q-badge"),Y=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Y,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[c,(0,a.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Home"})])),_:1})]),(0,a._)("div",i,[(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(o,{class:"box-shadow border-bottom primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,d.zw)((0,s.SU)(D).total),1),w])),_:1})])),_:1})]),(0,a._)("div",v,[(0,a.Wm)(o,{class:"box-shadow border-bottom positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",h,(0,d.zw)((0,s.SU)(T).total),1),b])),_:1})])),_:1})])]),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[g,(0,a.Wm)(K,{readonly:"",modelValue:(0,s.SU)(R),"onUpdate:modelValue":e[1]||(e[1]=l=>(0,s.dq)(R)?R.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(E,{icon:"content_copy",flat:"",dense:"",onClick:e[0]||(e[0]=l=>A((0,s.SU)(R)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[y,(0,a.Wm)(K,{readonly:"",modelValue:(0,s.SU)($),"onUpdate:modelValue":e[3]||(e[3]=l=>(0,s.dq)($)?$.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(E,{icon:"content_copy",flat:"",dense:"",onClick:e[2]||(e[2]=l=>A((0,s.SU)($)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[q,(0,a._)("div",f,[(0,a._)("table",x,[W,(0,s.SU)(I).length?((0,a.wg)(),(0,a.iD)("tbody",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(I),((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.invoice_id),1),(0,a._)("div",U,(0,d.zw)(e.created_at),1)]),(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.customer_name),1),(0,a._)("div",null,(0,d.zw)(e.customer_phone),1)]),(0,a._)("td",null,(0,d.zw)(l.$moneyIdr(e.order_total)),1),(0,a._)("td",null,[(0,a._)("div",z,(0,d.zw)(e.order_type.split("_")[0]),1)]),(0,a._)("td",null,(0,d.zw)(e.order_status),1)])))),128)),(0,s.SU)(T).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",S,Z))])):(0,a.kq)("",!0)])])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[C,(0,a._)("div",F,[(0,a._)("table",Q,[B,(0,s.SU)(O).length?((0,a.wg)(),(0,a.iD)("tbody",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(O),((l,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:l.id},[(0,a._)("td",null,(0,d.zw)(e+1),1),(0,a._)("td",null,(0,d.zw)(l.customer_name),1),(0,a._)("td",null,(0,d.zw)(l.customer_phone),1),(0,a._)("td",null,(0,d.zw)(l.lead_type),1),(0,a._)("td",null,[(0,a.Wm)(P,{color:"teal"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(l.status?l.status.label:"New"),1)])),_:2},1024)]),(0,a._)("td",null,[(0,a._)("div",N,[(0,a.Wm)(E,{round:"",icon:"edit",size:"sm",color:"blue",unelevated:"",to:{name:"LeadEdit",params:{id:l.id}}},null,8,["to"])])])])))),128)),(0,s.SU)(D).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",L,H))])):(0,a.kq)("",!0)])])])),_:1})])),_:1})])])),_:1})}}};var O=t(4379),R=t(1481),$=t(5926),A=t(151),E=t(5589),K=t(4842),P=t(2165),Y=t(9721),j=t(7518),G=t.n(j);const J=I,M=J;G()(I,"components",{QPage:O.Z,QBreadcrumbs:R.Z,QBreadcrumbsEl:$.Z,QCard:A.Z,QCardSection:E.Z,QInput:K.Z,QBtn:P.Z,QBadge:Y.Z})}}]);