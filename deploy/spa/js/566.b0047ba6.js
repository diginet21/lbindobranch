"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[566],{3566:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R});var a=l(3673),o=l(8880),i=l(1959),d=l(3617),s=l(9582);const r={class:"q-py-sm"},n=(0,a._)("div",{class:"row items-center q-gutter-x-md"},[(0,a._)("div",{class:"title"},"Edit Prio Weekly")],-1),m={class:"row form-container"},u={class:"col q-pa-sm"},c={class:"card-box block-container"},p={class:"q-gutter-y-md"},y=(0,a._)("div",{class:"q-mt-md"},[(0,a._)("div",{class:"input-label"},"Konten")],-1),_={class:"submit-block"},g={class:"q-pa-sm card-sm"},b={class:"card-box"},v={class:"flex justify-between q-mb-md"},U=(0,a._)("div",{class:"text-md"},"Feature Image",-1),w=(0,a._)("span",null,"Edit Image",-1),k={class:"bg-grey-2 flex justify-center items-center",style:{"min-height":"150px"}},q=["src"],S=["onClick"],f=(0,a._)("div",{class:"text-grey-7 cursor-pointer"},"Upload Image",-1),V={class:"card-box",style:{}},W={class:"q-gutter-y-md"},h=(0,a._)("div",{class:"text-md"},"Metatags",-1),x={setup(e){const t=(0,d.oR)(),l=(0,s.yj)(),x=(0,i.Fl)((()=>t.getters["postCategory/getPostCategoryOptions"])),C=(0,i.Fl)((()=>t.state.loading)),I=(0,i.qj)({id:"",_method:"PUT",title:"",summary:"",body:"",meta_title:"",category_id:"",meta_keyword:"",meta_description:"",image:""});(0,a.wF)((()=>{Q(),x.value.length||t.dispatch("postCategory/getPostCategories")}));const Q=()=>{t.dispatch("post/getById",l.params.id).then((e=>{if(200==e.status){let t=e.data.results;I.id=t.id,I.title=t.title,I.summary=t.summary,I.body=t.body,I.meta_title=t.meta_title,I.category_id=t.post_category_id,I.meta_description=t.meta_description,I.meta_keyword=t.meta_keyword,F.value=t.asset.src}}))},Z=()=>{t.dispatch("post/postUpdate",I)},F=(0,i.iH)(""),P=e=>{let t=e.target.files[0];if(!t)return;I.image=t;const l=new FileReader;l.onload=e=>{F.value=e.target.result},l.readAsDataURL(t)},j=()=>{document.getElementById("inputFile").click()};return(e,t)=>{const l=(0,a.up)("q-breadcrumbs-el"),d=(0,a.up)("q-breadcrumbs"),s=(0,a.up)("q-input"),Q=(0,a.up)("q-select"),E=(0,a.up)("q-editor"),M=(0,a.up)("q-btn"),B=(0,a.up)("q-icon"),D=(0,a.up)("q-form"),K=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(K,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[n,(0,a.Wm)(d,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{label:"Dashboard"}),(0,a.Wm)(l,{label:"Prioweekly"}),(0,a.Wm)(l,{label:"Edit"})])),_:1})]),(0,a.Wm)(D,{onSubmit:(0,o.iM)(Z,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("div",p,[(0,a.Wm)(s,{outlined:"",modelValue:(0,i.SU)(I).title,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.SU)(I).title=e),label:"Title"},null,8,["modelValue"]),(0,a.Wm)(Q,{outlined:"",modelValue:(0,i.SU)(I).category_id,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.SU)(I).category_id=e),options:(0,i.SU)(x),label:"Kategori","emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,a._)("div",null,[y,(0,a.Wm)(E,{modelValue:(0,i.SU)(I).body,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.SU)(I).body=e)},null,8,["modelValue"])])]),(0,a._)("div",_,[(0,a.Wm)(M,{disable:(0,i.SU)(C),label:"Cancel",color:"primary",flat:"",to:{name:"PostIndex"}},null,8,["disable"]),(0,a.Wm)(M,{loading:(0,i.SU)(C),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"])])])]),(0,a._)("div",g,[(0,a._)("div",b,[(0,a._)("div",v,[U,F.value?((0,a.wg)(),(0,a.j4)(M,{key:0,size:"10px",unelevated:"",color:"primary","no-caps":"",onClick:j},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{name:"upload"}),w])),_:1})):(0,a.kq)("",!0)]),(0,a._)("input",{id:"inputFile",type:"file",onInput:P,class:"hidden"},null,32),(0,a._)("div",k,[F.value?((0,a.wg)(),(0,a.iD)("img",{key:0,src:F.value,class:"img-preview"},null,8,q)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"text-center cursor-pointer",onClick:(0,o.iM)(j,["prevent"])},[(0,a.Wm)(B,{name:"upload",size:"lg",color:"grey-6"}),f],8,S))])]),(0,a._)("div",V,[(0,a._)("div",W,[h,(0,a.Wm)(s,{outlined:"",modelValue:(0,i.SU)(I).meta_title,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,i.SU)(I).meta_title=e),label:"Meta Title"},null,8,["modelValue"]),(0,a.Wm)(s,{outlined:"",modelValue:(0,i.SU)(I).meta_keyword,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,i.SU)(I).meta_keyword=e),label:"Meta Keyword"},null,8,["modelValue"]),(0,a.Wm)(s,{type:"textarea",outlined:"",modelValue:(0,i.SU)(I).meta_description,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,i.SU)(I).meta_description=e),label:"Meta Description"},null,8,["modelValue"])])])])])])),_:1},8,["onSubmit"])])),_:1})}}};var C=l(4379),I=l(1481),Q=l(5926),Z=l(5269),F=l(4842),P=l(1935),j=l(2314),E=l(2165),M=l(4554),B=l(7518),D=l.n(B);const K=x,R=K;D()(x,"components",{QPage:C.Z,QBreadcrumbs:I.Z,QBreadcrumbsEl:Q.Z,QForm:Z.Z,QInput:F.Z,QSelect:P.Z,QEditor:j.Z,QBtn:E.Z,QIcon:M.Z})}}]);