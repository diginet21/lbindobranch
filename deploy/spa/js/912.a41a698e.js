"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[912],{4912:(l,e,t)=>{t.r(e),t.d(e,{default:()=>X});t(71);var a=t(3673),d=t(2323),s=t(1959),n=t(3617),u=t(1914),o=t(6417);const r={class:"q-py-sm"},i=(0,a._)("div",{class:"title"},"Dashboard",-1),c={class:"q-my-md"},_={class:"row q-gutter-md"},m={class:"col"},p={class:"text-xl text-weight-bold"},w=(0,a._)("div",null,"Leads",-1),h={class:"col"},v={class:"text-xl text-weight-bold"},b=(0,a._)("div",null,"Order",-1),g=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Branch Url")],-1),y=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Tripay Callback Url")],-1),q=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Orders")],-1),f={class:"table-responsive"},x={class:"table striped"},W=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#Invoice"),(0,a._)("th",null,"Customer"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"Type"),(0,a._)("th",{align:"right"},"Status")])],-1),k={key:0},U={class:"text-grey-8"},z={class:"text-uppercase"},S={align:"right"},Z={key:0},C=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),D=[C],F=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Leads")],-1),Q={class:"table-responsive"},B={class:"table striped"},V=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Phone"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status"),(0,a._)("th",{align:"right"},"Actions")])],-1),N={align:"right"},L={class:"q-gutter-sm"},T={key:0},H=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),I=[H],O={setup(l){const e=(0,n.oR)();e.dispatch("lead/getNewLeadCount");const t=(0,s.Fl)((()=>e.state.branch)),C=(0,s.Fl)((()=>e.state.lead.main_data)),H=(0,s.Fl)((()=>e.state.order.main_data)),O=(0,s.Fl)((()=>{if(H.value.data.length){let l=[...H.value.data];return l.splice(0,5)}return[]})),R=(0,s.Fl)((()=>{if(C.value.data.length){let l=[...C.value.data];return l.splice(0,5)}return[]}));(0,a.wF)((()=>{C.value.length||e.dispatch("lead/getAll"),H.value.length||e.dispatch("order/getOrders")}));const A=(0,s.Fl)({get(){let l=t.value.main_url;return t.value&&(l+=`?bid=${t.value.id}`),l},set(l){console.log(l)}}),E=(0,s.Fl)({get(){return t.value.tripay_callback},set(l){console.log(l)}}),K=l=>{(0,u.Z)(l).then((()=>{o.Z.create({type:"positive",message:"Berhasil menyalin alamat url",timeout:700})}))};return(l,e)=>{const t=(0,a.up)("q-breadcrumbs-el"),n=(0,a.up)("q-breadcrumbs"),u=(0,a.up)("q-card-section"),o=(0,a.up)("q-card"),P=(0,a.up)("q-btn"),Y=(0,a.up)("q-input"),$=(0,a.up)("q-badge"),j=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(j,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[i,(0,a.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Home"})])),_:1})]),(0,a._)("div",c,[(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(o,{class:"box-shadow border-bottom primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,d.zw)((0,s.SU)(C).total),1),w])),_:1})])),_:1})]),(0,a._)("div",h,[(0,a.Wm)(o,{class:"box-shadow border-bottom positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",v,(0,d.zw)((0,s.SU)(H).total),1),b])),_:1})])),_:1})])]),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[g,(0,a.Wm)(Y,{readonly:"",modelValue:(0,s.SU)(A),"onUpdate:modelValue":e[1]||(e[1]=l=>(0,s.dq)(A)?A.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(P,{icon:"content_copy",flat:"",dense:"",onClick:e[0]||(e[0]=l=>K((0,s.SU)(A)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[y,(0,a.Wm)(Y,{readonly:"",modelValue:(0,s.SU)(E),"onUpdate:modelValue":e[3]||(e[3]=l=>(0,s.dq)(E)?E.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(P,{icon:"content_copy",flat:"",dense:"",onClick:e[2]||(e[2]=l=>K((0,s.SU)(E)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[q,(0,a._)("div",f,[(0,a._)("table",x,[W,(0,s.SU)(O).length?((0,a.wg)(),(0,a.iD)("tbody",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(O),((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.invoice_id),1),(0,a._)("div",U,(0,d.zw)(e.created_at),1)]),(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.customer_name),1),(0,a._)("div",null,(0,d.zw)(e.customer_phone),1)]),(0,a._)("td",null,(0,d.zw)(l.$moneyIdr(e.order_total)),1),(0,a._)("td",null,[(0,a._)("div",z,(0,d.zw)(e.order_type.split("_")[0]),1)]),(0,a._)("td",S,(0,d.zw)(e.order_status),1)])))),128)),(0,s.SU)(H).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",Z,D))])):(0,a.kq)("",!0)])])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[F,(0,a._)("div",Q,[(0,a._)("table",B,[V,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(R),((l,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:l.id},[(0,a._)("td",null,(0,d.zw)(e+1),1),(0,a._)("td",null,(0,d.zw)(l.customer_name),1),(0,a._)("td",null,(0,d.zw)(l.customer_phone),1),(0,a._)("td",null,(0,d.zw)(l.lead_type),1),(0,a._)("td",null,[(0,a.Wm)($,{color:"teal"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(l.status?l.status.label:"New"),1)])),_:2},1024)]),(0,a._)("td",N,[(0,a._)("div",L,[(0,a.Wm)(P,{round:"",icon:"edit",size:"sm",color:"blue",unelevated:"",to:{name:"LeadEdit",params:{id:l.id}}},null,8,["to"])])])])))),128)),(0,s.SU)(C).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",T,I))])])])])),_:1})])),_:1})])])),_:1})}}};var R=t(4379),A=t(1481),E=t(5926),K=t(151),P=t(5589),Y=t(4842),$=t(2165),j=t(9721),G=t(7518),J=t.n(G);const M=O,X=M;J()(O,"components",{QPage:R.Z,QBreadcrumbs:A.Z,QBreadcrumbsEl:E.Z,QCard:K.Z,QCardSection:P.Z,QInput:Y.Z,QBtn:$.Z,QBadge:j.Z})}}]);