"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[277],{9277:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Z});a(71),a(5363);var t=a(3673),d=a(8880),i=a(1959),o=a(3617),u=a(9582);const s={class:"q-py-sm"},p=(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},"Edit New Vehicle")],-1),n={class:"row form-container"},c={class:"col q-pa-sm"},m={class:"card-box"},r={class:"q-gutter-y-md"},v={class:"row q-gutter-sm"},_={class:"col"},b={class:"col"},h={class:"q-gutter-x-md"},g={setup(e){const l=(0,o.oR)(),a=(0,u.yj)(),g=(0,i.Fl)((()=>l.getters["vehicle/getAllOptions"])),y=(0,i.Fl)((()=>l.state.vehicle.vehicle_master)),q=(0,i.iH)([]),w=(0,i.iH)(null);(0,t.wF)((()=>{y.value.length||l.dispatch("vehicle/getAll"),U()}));const S=(0,i.qj)({id:"",_method:"PUT",vehicle_id:"",sell_price:"",dp_type:"",dp_amount:""}),U=()=>{l.dispatch("vehicle/getById",a.params.id).then((e=>{if(200==e.status){let l=e.data.data;w.value=l,S.id=l.id,S.vehicle_id=l.vehicle_id,S.dp_type=l.dp_type,S.sell_price=l.sell_price,S.dp_amount=l.dp_amount;let a={value:l.vehicle_id,label:l.vehicle.title+" "+f(l.vehicle.price)};q.value=[...g.value],q.value.push(a)}}))},V=(0,i.Fl)((()=>l.state.loading)),f=e=>"Rp "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),W=()=>{l.dispatch("vehicle/update",S)},x=["Percent","Amount"];return(e,l)=>{const a=(0,t.up)("q-breadcrumbs-el"),o=(0,t.up)("q-breadcrumbs"),u=(0,t.up)("q-select"),g=(0,t.up)("money-formatter"),y=(0,t.up)("q-input"),w=(0,t.up)("q-btn"),U=(0,t.up)("q-footer"),f=(0,t.up)("q-form"),k=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(k,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",s,[p,(0,t.Wm)(o,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Dashboard"}),(0,t.Wm)(a,{label:"Vehicles"}),(0,t.Wm)(a,{label:"New"})])),_:1})]),(0,t.Wm)(f,{onSubmit:(0,d.iM)(W,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t._)("div",c,[(0,t._)("div",m,[(0,t._)("div",r,[(0,t.Wm)(u,{filled:"",required:"",label:"Select Vehicle",modelValue:(0,i.SU)(S).vehicle_id,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.SU)(S).vehicle_id=e),options:q.value,"map-options":"","emit-value":""},null,8,["modelValue","options"]),(0,t.Wm)(g,{modelValue:(0,i.SU)(S).sell_price,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.SU)(S).sell_price=e)},null,8,["modelValue"]),(0,t._)("div",v,[(0,t._)("div",_,[(0,t.Wm)(u,{filled:"",required:"",label:"Down Payment Type",modelValue:(0,i.SU)(S).dp_type,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.SU)(S).dp_type=e),options:x,"map-options":"","emit-value":""},null,8,["modelValue"])]),(0,t._)("div",b,["Amount"==(0,i.SU)(S).dp_type?((0,t.wg)(),(0,t.j4)(g,{key:0,required:"",modelValue:(0,i.SU)(S).dp_amount,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.SU)(S).dp_amount=e),label:"Down Payment Amount"},null,8,["modelValue"])):((0,t.wg)(),(0,t.j4)(y,{key:1,filled:"",required:"",modelValue:(0,i.SU)(S).dp_amount,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.SU)(S).dp_amount=e),label:"Down Payment Amount",mask:"###"},null,8,["modelValue"]))])])])])])]),(0,t.Wm)(U,{class:"flex q-px-lg q-py-md bg-grey-1 justify-end",dark:"",reveal:""},{default:(0,t.w5)((()=>[(0,t._)("div",h,[(0,t.Wm)(w,{padding:"6px 24px",disable:(0,i.SU)(V),label:"Cancel",class:"bg-white",color:"primary",outline:"",to:"/vehicles"},null,8,["disable"]),(0,t.Wm)(w,{padding:"6px 24px",loading:(0,i.SU)(V),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}}};var y=a(4379),q=a(1481),w=a(5926),S=a(5269),U=a(9396),V=a(4842),f=a(3846),W=a(2165),x=a(7518),k=a.n(x);const Q=g,Z=Q;k()(g,"components",{QPage:y.Z,QBreadcrumbs:q.Z,QBreadcrumbsEl:w.Z,QForm:S.Z,QSelect:U.Z,QInput:V.Z,QFooter:f.Z,QBtn:W.Z})}}]);