"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[318],{4318:(e,l,a)=>{a.r(l),a.d(l,{default:()=>B});a(246);var t=a(3673),d=a(8880),u=a(1959),s=a(2323),o=a(3617),i=a(9582);const r={class:"q-py-sm"},m=(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},"Edit Lead")],-1),n={class:"card-box card-xl"},c={class:"q-gutter-y-sm"},p={class:"row justify-between items-center"},_={class:"row q-gutter-x-md q-pa-md"},b=(0,t._)("span",{class:""},"Status",-1),w=(0,t.Uk)(),f={class:"q-px-md bg-green rounded-borders text-white"},y={class:"q-mt-md flex justify-end q-gutter-x-md"},q=(0,t._)("div",{class:"card-title q-pa-md flex justify-between items-center bordered"},[(0,t._)("h2",null,"Select Status")],-1),g={class:"q-pa-md flex justify-end bg-grey-1"},v={setup(e){const l=(0,i.yj)(),a=(0,o.oR)(),v=((0,i.tv)(),(0,u.qj)({id:"",customer_name:"",customer_phone:"",customer_email:"",status:"",description:"",lead_status_id:"",lead_type:""})),h=(0,u.iH)([]),U=(0,u.iH)(null),k=()=>{a.dispatch("lead/getById",l.params.id).then((e=>{if(200==e.status){let l=e.data.data.lead;h.value=e.data.data.statuses,v.id=l.id,v.customer_name=l.customer_name,v.customer_phone=l.customer_phone,v.customer_email=l.customer_email,v.description=l.description,v.lead_type=l.lead_type,v.lead_status_id=l.lead_status_id,U.value=l.status?l.status:null}}))};(0,t.wF)((()=>{k()}));const S=(0,u.iH)(!1),W=e=>{U.value=e,v.lead_status_id=e.id},V=()=>{a.dispatch("lead/update",v)};return(e,l)=>{const a=(0,t.up)("q-breadcrumbs-el"),o=(0,t.up)("q-breadcrumbs"),i=(0,t.up)("q-input"),k=(0,t.up)("q-btn"),x=(0,t.up)("q-form"),C=(0,t.up)("q-icon"),Q=(0,t.up)("q-item-section"),Z=(0,t.up)("q-item"),j=(0,t.up)("q-expansion-item"),I=(0,t.up)("q-list"),E=(0,t.up)("q-card"),D=(0,t.up)("q-dialog"),H=(0,t.up)("q-page"),L=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(H,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",r,[m,(0,t.Wm)(o,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Dashboard"}),(0,t.Wm)(a,{label:"Lead"}),(0,t.Wm)(a,{label:"Edit"})])),_:1})]),(0,t._)("div",n,[(0,t.Wm)(x,{onSubmit:(0,d.iM)(V,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(i,{required:"",filled:"",label:"Customer Name",modelValue:(0,u.SU)(v).customer_name,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,u.SU)(v).customer_name=e)},null,8,["modelValue"]),(0,t.Wm)(i,{required:"",filled:"",label:"Customer Phone",modelValue:(0,u.SU)(v).customer_phone,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,u.SU)(v).customer_phone=e)},null,8,["modelValue"]),(0,t.Wm)(i,{required:"",filled:"",label:"Customer Email",modelValue:(0,u.SU)(v).customer_email,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,u.SU)(v).customer_email=e)},null,8,["modelValue"]),(0,t.Wm)(i,{required:"",filled:"",label:"Lead Type",modelValue:(0,u.SU)(v).lead_type,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,u.SU)(v).lead_type=e)},null,8,["modelValue"]),(0,t._)("div",p,[(0,t._)("div",_,[b,w,(0,t._)("div",f,(0,s.zw)(U.value?U.value.label:"New"),1)]),(0,t.Wm)(k,{label:"Edit Status",color:"blue",size:"sm",unelevated:"",onClick:l[4]||(l[4]=e=>S.value=!0)})]),(0,t.Wm)(i,{required:"",filled:"",type:"textarea",modelValue:(0,u.SU)(v).description,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,u.SU)(v).description=e),label:"Description"},null,8,["modelValue"])]),(0,t._)("div",y,[(0,t.Wm)(k,{label:"Cancel",type:"button",color:"primary",outline:"",to:{name:"LeadIndex"}}),(0,t.Wm)(k,{label:"Submit",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])]),(0,t.Wm)(D,{modelValue:S.value,"onUpdate:modelValue":l[6]||(l[6]=e=>S.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{class:"card-lg"},{default:(0,t.w5)((()=>[q,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(h.value,((e,l)=>((0,t.wg)(),(0,t.j4)(I,{separator:"",key:l},{default:(0,t.w5)((()=>[e.childs.length?((0,t.wg)(),(0,t.j4)(j,{key:0,"expand-separator":"",label:e.label},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.childs,(e=>((0,t.wg)(),(0,t.j4)(Z,{onClick:l=>W(e),clickable:"",key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{class:"cursor-pointer",name:(0,u.SU)(v).lead_status_id==e.id?"radio_button_checked":"radio_button_unchecked",color:(0,u.SU)(v).lead_status_id==e.id?"green":"grey-7"},null,8,["name","color"])])),_:2},1024),(0,t.Wm)(Q,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["label"])):((0,t.wg)(),(0,t.j4)(Z,{key:1,onClick:l=>W(e),clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{class:"cursor-pointer",name:(0,u.SU)(v).lead_status_id==e.id?"radio_button_checked":"radio_button_unchecked",color:(0,u.SU)(v).lead_status_id==e.id?"green":"grey-7"},null,8,["name","color"])])),_:2},1024),(0,t.Wm)(Q,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"]))])),_:2},1024)))),128)),(0,t._)("div",g,[(0,t.wy)((0,t.Wm)(k,{label:"Close",unelevated:"",color:"primary"},null,512),[[L]])])])),_:1})])),_:1},8,["modelValue"])])),_:1})}}};var h=a(4379),U=a(1481),k=a(5926),S=a(5269),W=a(4842),V=a(2165),x=a(6778),C=a(151),Q=a(7011),Z=a(4615),j=a(3414),I=a(2035),E=a(4554),D=a(677),H=a(7518),L=a.n(H);const z=v,B=z;L()(v,"components",{QPage:h.Z,QBreadcrumbs:U.Z,QBreadcrumbsEl:k.Z,QForm:S.Z,QInput:W.Z,QBtn:V.Z,QDialog:x.Z,QCard:C.Z,QList:Q.Z,QExpansionItem:Z.Z,QItem:j.Z,QItemSection:I.Z,QIcon:E.Z}),L()(v,"directives",{ClosePopup:D.Z})}}]);