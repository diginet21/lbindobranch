"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[277],{9277:(e,l,t)=>{t.r(l),t.d(l,{default:()=>P});t(71),t(5363);var a=t(3673),d=t(8880),i=t(1959),o=t(3617),u=t(9582);const n={class:"q-py-sm"},s=(0,a._)("div",{class:"row items-center q-gutter-x-md"},[(0,a._)("div",{class:"title"},"Edit New Vehicle")],-1),p={class:"row form-container"},c={class:"col q-pa-sm"},m={class:"card-box"},r={class:"q-gutter-y-md"},_=(0,a.Uk)(" No results "),v={class:"row q-gutter-sm"},b={class:"col"},h={class:"col"},g={class:"submit-block"},y={setup(e){const l=(0,o.oR)(),t=(0,u.yj)(),y=(0,i.Fl)((()=>l.getters["vehicle/getAllOptions"])),w=(0,i.Fl)((()=>l.state.vehicle.vehicle_master)),S=(0,i.iH)([]),U=(0,i.iH)(null);(0,a.wF)((()=>{w.value.length||l.dispatch("vehicle/getAll"),V()}));const q=(0,i.qj)({id:"",_method:"PUT",vehicle_id:"",sell_price:"",dp_type:"",dp_amount:""}),V=()=>{l.dispatch("vehicle/getById",t.params.id).then((e=>{if(200==e.status){let l=e.data.data;U.value=l,q.id=l.id,q.vehicle_id=l.vehicle_id,q.dp_type=l.dp_type,q.sell_price=l.sell_price,q.dp_amount=l.dp_amount;let t={value:l.vehicle_id,label:l.vehicle.title+" "+W(l.vehicle.price)};S.value=[...y.value],S.value.push(t)}}))},f=(0,i.Fl)((()=>l.state.loading)),W=e=>"Rp "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),k=()=>{l.dispatch("vehicle/update",q)},Q=["Percent","Amount"];return(e,l)=>{const t=(0,a.up)("q-breadcrumbs-el"),o=(0,a.up)("q-breadcrumbs"),u=(0,a.up)("q-item-section"),y=(0,a.up)("q-item"),w=(0,a.up)("q-select"),U=(0,a.up)("money-formatter"),V=(0,a.up)("q-input"),W=(0,a.up)("q-btn"),Z=(0,a.up)("q-form"),x=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(x,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",n,[s,(0,a.Wm)(o,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Vehicles"}),(0,a.Wm)(t,{label:"New"})])),_:1})]),(0,a.Wm)(Z,{onSubmit:(0,d.iM)(k,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",c,[(0,a._)("div",m,[(0,a._)("div",r,[(0,a.Wm)(w,{outlined:"",required:"",label:"Select Vehicle",modelValue:(0,i.SU)(q).vehicle_id,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.SU)(q).vehicle_id=e),options:S.value,"map-options":"","emit-value":""},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"text-grey"},{default:(0,a.w5)((()=>[_])),_:1})])),_:1})])),_:1},8,["modelValue","options"]),(0,a.Wm)(U,{outlined:"",modelValue:(0,i.SU)(q).sell_price,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.SU)(q).sell_price=e)},null,8,["modelValue"]),(0,a._)("div",v,[(0,a._)("div",b,[(0,a.Wm)(w,{outlined:"",required:"",label:"Down Payment Type",modelValue:(0,i.SU)(q).dp_type,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.SU)(q).dp_type=e),options:Q,"map-options":"","emit-value":""},null,8,["modelValue"])]),(0,a._)("div",h,["Amount"==(0,i.SU)(q).dp_type?((0,a.wg)(),(0,a.j4)(U,{key:0,outlined:"",required:"",modelValue:(0,i.SU)(q).dp_amount,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.SU)(q).dp_amount=e),label:"Down Payment Amount"},null,8,["modelValue"])):((0,a.wg)(),(0,a.j4)(V,{key:1,outlined:"",required:"",modelValue:(0,i.SU)(q).dp_amount,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.SU)(q).dp_amount=e),label:"Down Payment Amount",mask:"###"},null,8,["modelValue"]))])])]),(0,a._)("div",g,[(0,a.Wm)(W,{padding:"6px 24px",loading:(0,i.SU)(f),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"]),(0,a.Wm)(W,{padding:"6px 24px",disable:(0,i.SU)(f),label:"Cancel",class:"bg-white",color:"primary",outline:"",to:"/vehicles"},null,8,["disable"])])])])])])),_:1},8,["onSubmit"])])),_:1})}}};var w=t(4379),S=t(1481),U=t(5926),q=t(5269),V=t(9396),f=t(3414),W=t(2035),k=t(4842),Q=t(2165),Z=t(7518),x=t.n(Z);const A=y,P=A;x()(y,"components",{QPage:w.Z,QBreadcrumbs:S.Z,QBreadcrumbsEl:U.Z,QForm:q.Z,QSelect:V.Z,QItem:f.Z,QItemSection:W.Z,QInput:k.Z,QBtn:Q.Z})}}]);