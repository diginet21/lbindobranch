"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[912],{4912:(l,e,t)=>{t.r(e),t.d(e,{default:()=>J});t(71);var a=t(3673),d=t(2323),s=t(1959),n=t(3617),u=t(1914),o=t(6417);const r={class:"q-py-sm"},c=(0,a._)("div",{class:"title"},"Dashboard",-1),i={class:"q-my-md"},_={class:"row q-gutter-md"},m={class:"col"},p={class:"text-xl text-weight-bold"},w=(0,a._)("div",null,"Leads",-1),v={class:"col"},h={class:"text-xl text-weight-bold"},b=(0,a._)("div",null,"Order",-1),g=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Branch Url")],-1),y=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Tripay Callback Url")],-1),q=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Orders")],-1),f={class:"table-responsive"},x={class:"table striped"},W=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#Invoice"),(0,a._)("th",null,"Customer"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status")])],-1),k={key:0},U={class:"text-grey-8"},z={class:"text-uppercase"},S={key:0},Z=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),C=[Z],D=(0,a._)("div",{class:"card-title"},[(0,a._)("h3",null,"Recent Leads")],-1),F={class:"table-responsive"},Q={class:"table striped"},B=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"#"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Phone"),(0,a._)("th",null,"Type"),(0,a._)("th",null,"Status"),(0,a._)("th",null,"Actions")])],-1),V={class:"q-gutter-sm"},N={key:0},L=(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),T=[L],H={setup(l){const e=(0,n.oR)();e.dispatch("lead/getNewLeadCount");const t=(0,s.Fl)((()=>e.state.branch)),Z=(0,s.Fl)((()=>e.state.lead.main_data)),L=(0,s.Fl)((()=>e.state.order.main_data)),H=(0,s.Fl)((()=>{if(L.value.data.length){let l=[...L.value.data];return l.splice(0,5)}return[]})),I=(0,s.Fl)((()=>{if(Z.value.data.length){let l=[...Z.value.data];return l.splice(0,5)}return[]}));(0,a.wF)((()=>{Z.value.length||e.dispatch("lead/getAll"),L.value.length||e.dispatch("order/getOrders")}));const O=(0,s.Fl)({get(){let l=t.value.main_url;return t.value&&(l+=`?branch=${t.value.slug}`),l},set(l){console.log(l)}}),R=(0,s.Fl)({get(){let l=t.value.main_url;return t.value&&(l+=`/api/tripay/callback?bid=${t.value.id}`),l},set(l){console.log(l)}}),$=l=>{(0,u.Z)(l).then((()=>{o.Z.create({type:"positive",message:"Berhasil menyalin alamat url",timeout:700})}))};return(l,e)=>{const t=(0,a.up)("q-breadcrumbs-el"),n=(0,a.up)("q-breadcrumbs"),u=(0,a.up)("q-card-section"),o=(0,a.up)("q-card"),A=(0,a.up)("q-btn"),E=(0,a.up)("q-input"),K=(0,a.up)("q-badge"),P=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(P,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[c,(0,a.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{label:"Dashboard"}),(0,a.Wm)(t,{label:"Home"})])),_:1})]),(0,a._)("div",i,[(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(o,{class:"box-shadow border-bottom primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,d.zw)((0,s.SU)(Z).total),1),w])),_:1})])),_:1})]),(0,a._)("div",v,[(0,a.Wm)(o,{class:"box-shadow border-bottom positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-py-xl text-center"},{default:(0,a.w5)((()=>[(0,a._)("div",h,(0,d.zw)((0,s.SU)(L).total),1),b])),_:1})])),_:1})])]),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[g,(0,a.Wm)(E,{readonly:"",modelValue:(0,s.SU)(O),"onUpdate:modelValue":e[1]||(e[1]=l=>(0,s.dq)(O)?O.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(A,{icon:"content_copy",flat:"",dense:"",onClick:e[0]||(e[0]=l=>$((0,s.SU)(O)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[y,(0,a.Wm)(E,{readonly:"",modelValue:(0,s.SU)(R),"onUpdate:modelValue":e[3]||(e[3]=l=>(0,s.dq)(R)?R.value=l:null),outlined:""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(A,{icon:"content_copy",flat:"",dense:"",onClick:e[2]||(e[2]=l=>$((0,s.SU)(R)))})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[q,(0,a._)("div",f,[(0,a._)("table",x,[W,(0,s.SU)(H).length?((0,a.wg)(),(0,a.iD)("tbody",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(H),((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.invoice_id),1),(0,a._)("div",U,(0,d.zw)(e.created_at),1)]),(0,a._)("td",null,[(0,a._)("div",null,(0,d.zw)(e.customer_name),1),(0,a._)("div",null,(0,d.zw)(e.customer_phone),1)]),(0,a._)("td",null,(0,d.zw)(l.$moneyIdr(e.order_total)),1),(0,a._)("td",null,[(0,a._)("div",z,(0,d.zw)(e.order_type.split("_")[0]),1)]),(0,a._)("td",null,(0,d.zw)(e.order_status),1)])))),128)),(0,s.SU)(L).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",S,C))])):(0,a.kq)("",!0)])])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"box-shadow q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[D,(0,a._)("div",F,[(0,a._)("table",Q,[B,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(I),((l,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:l.id},[(0,a._)("td",null,(0,d.zw)(e+1),1),(0,a._)("td",null,(0,d.zw)(l.customer_name),1),(0,a._)("td",null,(0,d.zw)(l.customer_phone),1),(0,a._)("td",null,(0,d.zw)(l.lead_type),1),(0,a._)("td",null,[(0,a.Wm)(K,{color:"teal"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(l.status?l.status.label:"New"),1)])),_:2},1024)]),(0,a._)("td",null,[(0,a._)("div",V,[(0,a.Wm)(A,{round:"",icon:"edit",size:"sm",color:"blue",unelevated:"",to:{name:"LeadEdit",params:{id:l.id}}},null,8,["to"])])])])))),128)),(0,s.SU)(Z).available?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("tr",N,T))])])])])),_:1})])),_:1})])])),_:1})}}};var I=t(4379),O=t(1481),R=t(5926),$=t(151),A=t(5589),E=t(4842),K=t(2165),P=t(9721),Y=t(7518),j=t.n(Y);const G=H,J=G;j()(H,"components",{QPage:I.Z,QBreadcrumbs:O.Z,QBreadcrumbsEl:R.Z,QCard:$.Z,QCardSection:A.Z,QInput:E.Z,QBtn:K.Z,QBadge:P.Z})}}]);