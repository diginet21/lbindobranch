"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[378],{7378:(e,a,l)=>{l.r(a),l.d(a,{default:()=>D});l(9544);var t=l(3673),d=l(8880),o=l(1959),n=l(3617),i=l(4434);function r(e,a){const l=(0,t.up)("q-route-tab"),d=(0,t.up)("q-tabs");return(0,t.wg)(),(0,t.j4)(d,{align:"left","active-color":"primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{label:"Paygate Setting",to:{name:"PaygateConfig"}})])),_:1})}var u=l(4260),m=l(7547),s=l(208),p=l(7518),c=l.n(p);const _={},b=(0,u.Z)(_,[["render",r]]),v=b;c()(_,"components",{QTabs:m.Z,QRouteTab:s.Z});const y=e=>((0,t.dD)("data-v-e5ec1264"),e=e(),(0,t.Cn)(),e),g={class:"q-py-sm"},f=y((()=>(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},"Payment Gateway")],-1))),q={class:"q-py-md"},S={class:"row"},U={class:"col q-pa-xs"},h={class:"card-box q-gutter-y-md"},V={class:"flex justify-end"},k={setup(e){const a=(0,n.oR)(),l=(0,o.Fl)((()=>a.state.loading)),r=(0,o.Fl)((()=>a.state.config.paygate_config)),u=(0,o.Fl)((()=>a.state.branch));(0,t.wF)((()=>{r.value?p(r.value):m()}));const m=()=>{a.dispatch("config/getPaygate",u.value.id).then((e=>{a.commit("config/SET_PAYGATE",e.data.results),p(e.data.results)}))},s=(0,o.qj)({branch_id:"",provider:"",endpoint:"",endpoint_sanbox:"",api_key:"",private_key:"",merchant_id:"",mode:""}),p=e=>{s.branch_id=e.id,s.provider=e.provider,s.endpoint=e.endpoint,s.endpoint_sanbox=e.endpoint_sanbox,s.mode=e.mode,s.api_key=e.api_key?e.api_key:"",s.private_key=e.private_key?e.private_key:"",s.merchant_id=e.merchant_id?e.merchant_id:""},c=["sanbox","producttion"],_=()=>{a.commit("SET_LOADING",!0),a.dispatch("setting/storePaygate",s).then((e=>{i.Z.create({type:"positive",message:"Berhasil memperbarui data"}),a.commit("setting/SET_PAYGATE",e.data.results),p(e.data.results)})).finally((()=>{a.commit("SET_LOADING",!1)}))};return(e,a)=>{const n=(0,t.up)("q-breadcrumbs-el"),i=(0,t.up)("q-breadcrumbs"),r=(0,t.up)("q-input"),u=(0,t.up)("q-select"),m=(0,t.up)("q-btn"),p=(0,t.up)("q-footer"),b=(0,t.up)("q-form"),y=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(y,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",g,[f,(0,t.Wm)(i,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"Dashboard"}),(0,t.Wm)(n,{label:"Payment Gateway"})])),_:1})]),(0,t._)("div",q,[(0,t.Wm)(v)]),(0,t._)("div",null,[(0,t.Wm)(b,{onSubmit:(0,d.iM)(_,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",S,[(0,t._)("div",U,[(0,t._)("div",h,[(0,t.Wm)(r,{required:"",readonly:"",filled:"",modelValue:(0,o.SU)(s).provider,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(s).provider=e),label:"Provider"},null,8,["modelValue"]),(0,t.Wm)(u,{options:c,required:"",filled:"",modelValue:(0,o.SU)(s).mode,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(s).mode=e),label:"Mode"},null,8,["modelValue"]),(0,t.Wm)(r,{required:"",filled:"",modelValue:(0,o.SU)(s).endpoint,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.SU)(s).endpoint=e),label:"Endpoint"},null,8,["modelValue"]),(0,t.Wm)(r,{required:"",filled:"",modelValue:(0,o.SU)(s).endpoint_sanbox,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.SU)(s).endpoint_sanbox=e),label:"Endpoint Sanbox"},null,8,["modelValue"]),(0,t.Wm)(r,{required:"",filled:"",modelValue:(0,o.SU)(s).api_key,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,o.SU)(s).api_key=e),label:"Api Key"},null,8,["modelValue"]),(0,t.Wm)(r,{required:"",filled:"",modelValue:(0,o.SU)(s).private_key,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,o.SU)(s).private_key=e),label:"Private Key"},null,8,["modelValue"]),(0,t.Wm)(r,{required:"",filled:"",modelValue:(0,o.SU)(s).merchant_id,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,o.SU)(s).merchant_id=e),label:"Merchant ID"},null,8,["modelValue"])])])]),(0,t.Wm)(p,{class:"q-pa-md bg-white"},{default:(0,t.w5)((()=>[(0,t._)("div",V,[(0,t.Wm)(m,{loading:(0,o.SU)(l),label:"Update Data",type:"submit",color:"primary",unelevated:""},null,8,["loading"])])])),_:1})])),_:1},8,["onSubmit"])])])),_:1})}}};var w=l(4379),W=l(1481),Z=l(5926),x=l(5269),P=l(4842),Q=l(9396),E=l(3846),T=l(2165);const A=(0,u.Z)(k,[["__scopeId","data-v-e5ec1264"]]),D=A;c()(k,"components",{QPage:w.Z,QBreadcrumbs:W.Z,QBreadcrumbsEl:Z.Z,QForm:x.Z,QInput:P.Z,QSelect:Q.Z,QFooter:E.Z,QBtn:T.Z})}}]);