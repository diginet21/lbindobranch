"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[744],{3744:(e,l,a)=>{a.r(l),a.d(l,{default:()=>O});a(71),a(246),a(9544);var t=a(3673),u=a(2323),d=a(1959),s=a(3617);a(2270);const n={class:"q-py-sm"},o={class:"row items-center q-gutter-x-md"},m={class:"title"},i={class:"card-column"},c={class:"table-responsive"},_={class:"table striped"},r=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"#"),(0,t._)("th",null,"Name"),(0,t._)("th",null,"Phone"),(0,t._)("th",null,"Type"),(0,t._)("th",null,"Status"),(0,t._)("th",null,"Actions")])],-1),p={class:"q-gutter-sm"},w={key:0},v=(0,t._)("td",{colspan:"6"},[(0,t._)("div",{class:"text-center q-pa-xs"},"No data found")],-1),b=[v],U={key:0,class:"q-pa-md text-center"},f=(0,t._)("div",{class:"card-header"},[(0,t._)("div",{class:"text-md"},"Edit Lead")],-1),W={class:"q-gutter-y-sm"},h={class:"flex justify-end q-gutter-x-sm q-mt-md items-center"},g={class:"card-header flex justify-between items-center"},q={class:"text-md"},S={class:"q-pa-sm"},y=(0,t.Uk)("Name"),k=(0,t.Uk)("Email"),V=(0,t.Uk)("Phone"),C=(0,t.Uk)("Lead Type"),Q=(0,t.Uk)("Status"),Z=(0,t.Uk)("Description / Message"),z={class:"flex justify-end q-gutter-x-sm q-mt-md q-pa-sm"},x={setup(e){const l=(0,s.oR)(),a=(0,d.Fl)((()=>l.state.lead.main_data)),v=(0,d.Fl)((()=>l.state.lead.lead_status));(0,t.wF)((()=>{v.value.length||l.dispatch("lead/getStatus"),l.dispatch("lead/getAll")}));const x=(0,d.Fl)((()=>{let e={value:"",label:"New"};return e=[e,...v.value.map((e=>({value:e.id,label:e.label})))],e})),L=((0,d.iH)(!1),(0,d.iH)(!1)),D=(0,d.iH)(!1),N=(0,d.iH)(null),j=e=>{H.id=e.id,H.lead_status_id=e.lead_status_id,N.value=e,D.value=!0},F=(0,d.iH)("Leads"),H=(0,d.qj)({id:"",lead_status_id:"",customer_name:"",customer_phone:"",customer_email:"",lead_type:"",description:""}),P=()=>{l.dispatch("lead/updateStatus",{id:H.id,lead_status_id:H.lead_status_id}).then((()=>{l.dispatch("lead/getAll"),l.dispatch("lead/getNewLeadCount")})).finally((()=>{L.value=!1,D.value=!1}))},A=()=>{l.dispatch("lead/update",H).then((()=>{l.dispatch("lead/getAll"),l.dispatch("lead/getNewLeadCount")})).finally((()=>L.value=!1))},B=(0,d.Fl)((()=>l.state.loading)),E=()=>{l.dispatch("lead/paginateData",{take:a.value.limit,skip:a.value.data.length})};return(e,l)=>{const s=(0,t.up)("q-breadcrumbs-el"),v=(0,t.up)("q-breadcrumbs"),I=(0,t.up)("q-badge"),T=(0,t.up)("q-btn"),K=(0,t.up)("q-select"),M=(0,t.up)("q-input"),R=(0,t.up)("q-form"),Y=(0,t.up)("q-card-section"),G=(0,t.up)("q-card"),J=(0,t.up)("q-dialog"),O=(0,t.up)("q-item-section"),X=(0,t.up)("q-item"),$=(0,t.up)("q-list"),ee=(0,t.up)("q-page"),le=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ee,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t._)("div",o,[(0,t._)("div",m,(0,u.zw)(F.value),1)]),(0,t.Wm)(v,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{label:"Dashboard"}),(0,t.Wm)(s,{label:F.value},null,8,["label"])])),_:1})]),(0,t._)("div",i,[(0,t._)("div",c,[(0,t._)("table",_,[r,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,d.SU)(a).data,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:e.id},[(0,t._)("td",null,(0,u.zw)(l+1),1),(0,t._)("td",null,(0,u.zw)(e.customer_name),1),(0,t._)("td",null,(0,u.zw)(e.customer_phone),1),(0,t._)("td",null,(0,u.zw)(e.lead_type),1),(0,t._)("td",null,[(0,t.Wm)(I,{color:"teal"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.status?e.status.label:"New"),1)])),_:2},1024)]),(0,t._)("td",null,[(0,t._)("div",p,[(0,t.Wm)(T,{round:"",icon:"view_list",size:"sm",color:"blue",unelevated:"",onClick:l=>j(e)},null,8,["onClick"])])])])))),128)),(0,d.SU)(a).available?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("tr",w,b))])])])]),(0,d.SU)(a).count>(0,d.SU)(a).data.length?((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(T,{loading:(0,d.SU)(B),label:"Loadmore..",outline:"",size:"md",color:"primary","no-caps":"",onClick:E},null,8,["loading"])])):(0,t.kq)("",!0),(0,t.Wm)(J,{modelValue:L.value,"onUpdate:modelValue":l[6]||(l[6]=e=>L.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{class:"card-lg"},{default:(0,t.w5)((()=>[f,(0,t.Wm)(Y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(R,{onSubmit:A},{default:(0,t.w5)((()=>[(0,t._)("div",W,[(0,t.Wm)(K,{outlined:"",options:(0,d.SU)(x),"emit-value":"","map-options":"",modelValue:(0,d.SU)(H).lead_status_id,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,d.SU)(H).lead_status_id=e),label:"Lead Status"},null,8,["options","modelValue"]),(0,t.Wm)(M,{outlined:"",label:"Customer name",modelValue:(0,d.SU)(H).customer_name,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,d.SU)(H).customer_name=e)},null,8,["modelValue"]),(0,t.Wm)(M,{outlined:"",label:"Customer Phone",modelValue:(0,d.SU)(H).customer_phone,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,d.SU)(H).customer_phone=e)},null,8,["modelValue"]),(0,t.Wm)(M,{outlined:"",label:"Customer Email",modelValue:(0,d.SU)(H).customer_email,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,d.SU)(H).customer_email=e)},null,8,["modelValue"]),(0,t.Wm)(M,{outlined:"",label:"Lead Type",modelValue:(0,d.SU)(H).lead_type,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,d.SU)(H).lead_type=e)},null,8,["modelValue"]),(0,t.Wm)(M,{outlined:"",type:"textarea",label:"Description",modelValue:(0,d.SU)(H).description,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,d.SU)(H).description=e)},null,8,["modelValue"])]),(0,t._)("div",h,[(0,t.wy)((0,t.Wm)(T,{label:"Cancel",outline:"",type:"button",color:"primary"},null,512),[[le]]),(0,t.Wm)(T,{label:"Submit",unelevated:"",type:"submit",color:"primary"})])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(J,{modelValue:D.value,"onUpdate:modelValue":l[8]||(l[8]=e=>D.value=e),persistent:""},{default:(0,t.w5)((()=>[N.value?((0,t.wg)(),(0,t.j4)(G,{key:0,class:"card-lg"},{default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t._)("div",q,"Lead "+(0,u.zw)(N.value.id),1)]),(0,t._)("div",S,[(0,t.Wm)($,{separator:""},{default:(0,t.w5)((()=>[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(N.value.customer_name),1)])),_:1})])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[k])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(N.value.customer_email),1)])),_:1})])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[V])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(N.value.customer_phone),1)])),_:1})])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[C])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(N.value.lead_type),1)])),_:1})])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[Q])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Wm)(K,{filled:"",square:"",options:(0,d.SU)(x),"emit-value":"","map-options":"",modelValue:(0,d.SU)(H).lead_status_id,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,d.SU)(H).lead_status_id=e),dense:""},null,8,["options","modelValue"])])),_:1})])),_:1}),(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[Z])),_:1}),(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(N.value.description),1)])),_:1})])),_:1})])),_:1}),(0,t._)("div",z,[(0,t.wy)((0,t.Wm)(T,{label:"Close",outline:"",color:"blue"},null,512),[[le]]),(0,t.Wm)(T,{label:"Update",unelevated:"",onClick:P,color:"blue"})])])])),_:1})):(0,t.kq)("",!0)])),_:1},8,["modelValue"])])),_:1})}}};var L=a(4379),D=a(1481),N=a(5926),j=a(9721),F=a(2165),H=a(6778),P=a(151),A=a(5589),B=a(5269),E=a(1935),I=a(4842),T=a(7011),K=a(3414),M=a(2035),R=a(677),Y=a(7518),G=a.n(Y);const J=x,O=J;G()(x,"components",{QPage:L.Z,QBreadcrumbs:D.Z,QBreadcrumbsEl:N.Z,QBadge:j.Z,QBtn:F.Z,QDialog:H.Z,QCard:P.Z,QCardSection:A.Z,QForm:B.Z,QSelect:E.Z,QInput:I.Z,QList:T.Z,QItem:K.Z,QItemSection:M.Z}),G()(x,"directives",{ClosePopup:R.Z})}}]);