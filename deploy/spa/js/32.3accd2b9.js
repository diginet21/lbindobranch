"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[32],{5032:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});a(9544);var t=a(3673),u=a(2323),i=a(8880),d=a(1959),o=a(3617),n=a(9582),s=a(6249),r=a(5474),m=a(2535);const c={class:"q-py-sm"},p={class:"q-pt-md"},v={class:"card-box card-xl"},h=(0,t._)("div",{class:"text-label text-grey-8"},"Coordinate",-1),b={class:"row q-gutter-x-sm"},g={key:0,class:""},w={key:1},f={class:"relative"},y={class:"absolute bg-white z-50 full-width scroll",style:{"max-height":"200px"}},_={class:"flex justify-end q-gutter-x-sm q-mt-lg"},S={setup(e){const l=(0,o.oR)(),a=((0,n.yj)(),(0,d.Fl)((()=>l.state.loading)),(0,d.Fl)((()=>l.state.branch))),S=(0,d.Fl)((()=>l.state.cities));(0,t.wF)((()=>{S.value.length||l.dispatch("getCities"),a.value?q(a.value):(0,r.Api)().get("getCurrentBranch").then((e=>{200==e.status&&(l.commit("SET_BRANCH",e.data.data),Notify.create({type:"positive",message:"Berhasil memperbarui data"}))}))}));const V=(0,d.Fl)((()=>S.value.map((e=>({value:e.id,label:e.type+" "+e.city_name,...e}))))),U="Branch Setting",W=(0,d.qj)({id:"",name:"",phone:"",email:"",address:"",warehouse:"",latitude:"",longitude:""}),q=e=>{var l,a;W.id=e.id,W.name=e.name,W.phone=e.phone,W.email=e.email,W.address=e.address,W.warehouse=e.warehouse,W.latitude=null!==(l=e.latitude)&&void 0!==l?l:"",W.longitude=null!==(a=e.longitude)&&void 0!==a?a:"",Q.value=`${W.warehouse.subdistrict_name} ${W.warehouse.type}  ${W.warehouse.city} - ${W.warehouse.province}`},Z=()=>{s.Z.show(),l.dispatch("config/updateBranch",W).then((e=>{200==e.status&&l.commit("SET_BRANCH",e.data.data)})).finally((()=>s.Z.hide()))},k=(0,d.iH)(""),x=((0,d.Fl)((()=>k.value.length?V.value.filter((e=>e.city_name.toLowerCase().indexOf(k.value)>-1)):V.value)),(0,d.iH)("")),C=(0,d.iH)([]),Q=(0,d.iH)(""),B=()=>{x.value.length>=3&&l.dispatch("branch/findSubdistrict",x.value).then((e=>{C.value=e.data.results}))},$=e=>{W.warehouse=e,Q.value=`${W.warehouse.subdistrict_name} ${W.warehouse.type}  ${W.warehouse.city} - ${W.warehouse.province}`,C.value=[],x.value=""};return(e,l)=>{const a=(0,t.up)("q-breadcrumbs-el"),o=(0,t.up)("q-breadcrumbs"),n=(0,t.up)("q-input"),s=(0,t.up)("q-icon"),r=(0,t.up)("q-item-section"),S=(0,t.up)("q-item"),V=(0,t.up)("q-list"),q=(0,t.up)("q-btn"),k=(0,t.up)("q-form"),F=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(F,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},(0,u.zw)(U))]),(0,t.Wm)(o,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Dashboard"}),(0,t.Wm)(a,{label:U})])),_:1})]),(0,t._)("div",p,[(0,t.Wm)(m.Z)]),(0,t._)("div",v,[(0,t.Wm)(k,{onSubmit:(0,i.iM)(Z,["prevent"]),class:"q-gutter-y-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{filled:"",modelValue:(0,d.SU)(W).name,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,d.SU)(W).name=e),label:"Name"},null,8,["modelValue"]),(0,t.Wm)(n,{filled:"",modelValue:(0,d.SU)(W).phone,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,d.SU)(W).phone=e),label:"Phone"},null,8,["modelValue"]),(0,t._)("div",null,[h,(0,t._)("div",b,[(0,t.Wm)(n,{filled:"",class:"col",label:"Latitude",modelValue:(0,d.SU)(W).latitude,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,d.SU)(W).latitude=e)},null,8,["modelValue"]),(0,t.Wm)(n,{filled:"",class:"col",label:"Longitude",modelValue:(0,d.SU)(W).longitude,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,d.SU)(W).longitude=e)},null,8,["modelValue"])])]),(0,t.Wm)(n,{filled:"",modelValue:(0,d.SU)(W).email,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,d.SU)(W).email=e),label:"Email"},null,8,["modelValue"]),(0,t.Wm)(n,{filled:"",type:"textarea",modelValue:(0,d.SU)(W).address,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,d.SU)(W).address=e),label:"Address"},null,8,["modelValue"]),(0,t._)("div",null,[(0,d.SU)(W).warehouse?((0,t.wg)(),(0,t.iD)("div",g,[(0,t.Wm)(n,{modelValue:Q.value,"onUpdate:modelValue":l[7]||(l[7]=e=>Q.value=e),label:"Warehouse",filled:"",readonly:""},(0,t.Nv)({_:2},[Q.value?{name:"append",fn:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"close",onClick:l[6]||(l[6]=e=>(0,d.SU)(W).warehouse=""),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(n,{placeholder:"Ketik kecamatan",label:"Warehouse",filled:"",options:C.value,"use-input":"",modelValue:x.value,"onUpdate:modelValue":[l[8]||(l[8]=e=>x.value=e),B]},null,8,["options","modelValue"]),(0,t._)("div",f,[(0,t._)("div",y,[(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(C.value,(e=>((0,t.wg)(),(0,t.j4)(S,{key:e.id,onClick:l=>$(e),clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.subdistrict_name)+" "+(0,u.zw)(e.type)+" "+(0,u.zw)(e.city)+" - "+(0,u.zw)(e.province),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])])]))]),(0,t._)("div",_,[(0,t.Wm)(q,{label:"Submit",type:"submit",unelevated:"",color:"primary"})])])),_:1},8,["onSubmit"])])])),_:1})}}};var V=a(4379),U=a(1481),W=a(5926),q=a(5269),Z=a(4842),k=a(4554),x=a(7011),C=a(3414),Q=a(2035),B=a(2165),$=a(7518),F=a.n($);const H=S,j=H;F()(S,"components",{QPage:V.Z,QBreadcrumbs:U.Z,QBreadcrumbsEl:W.Z,QForm:q.Z,QInput:Z.Z,QIcon:k.Z,QList:x.Z,QItem:C.Z,QItemSection:Q.Z,QBtn:B.Z})},2535:(e,l,a)=>{a.d(l,{Z:()=>c});var t=a(3673);function u(e,l){const a=(0,t.up)("q-route-tab"),u=(0,t.up)("q-tabs");return(0,t.wg)(),(0,t.j4)(u,{align:"left","active-color":"primary","active-bg-color":"green-1","content-class":"bg-grey-2",dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Branch Setting",to:{name:"BranchConfig"}}),(0,t.Wm)(a,{label:"Paygate Setting",to:{name:"PaygateConfig"}})])),_:1})}var i=a(4260),d=a(7547),o=a(208),n=a(7518),s=a.n(n);const r={},m=(0,i.Z)(r,[["render",u]]),c=m;s()(r,"components",{QTabs:d.Z,QRouteTab:o.Z})}}]);