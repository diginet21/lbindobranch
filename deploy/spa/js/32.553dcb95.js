"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[32],{5032:(e,a,l)=>{l.r(a),l.d(a,{default:()=>j});l(9544);var t=l(3673),o=l(2323),u=l(8880),s=l(1959),n=l(3617),i=l(9582),r=l(6249),d=l(5474),m=l(2535);const c={class:"q-py-sm"},p={class:"q-pt-md"},v={class:"card-box card-xl"},h={key:0,class:""},b={key:1},g={class:"relative"},w={class:"absolute bg-white z-50 full-width scroll",style:{"max-height":"200px"}},f=(0,t.Uk)(" No results "),_={class:"flex justify-end q-gutter-x-sm q-mt-lg"},y={setup(e){const a=(0,n.oR)(),l=((0,i.yj)(),(0,s.Fl)((()=>a.state.loading)),(0,s.Fl)((()=>a.state.branch))),y=(0,s.Fl)((()=>a.state.cities));(0,t.wF)((()=>{y.value.length||a.dispatch("getCities"),l.value?V(l.value):(0,d.Api)().get("getCurrentBranch").then((e=>{200==e.status&&(a.commit("SET_BRANCH",e.data.data),V(e.data.data),Notify.create({type:"positive",message:"Berhasil memperbarui data"}))}))}));const S=(0,s.Fl)((()=>y.value.map((e=>({value:e.id,label:e.type+" "+e.city_name,...e}))))),W="Branch Setting",U=(0,s.qj)({id:"",name:"",coverage_areas:[],phone:"",email:"",address:"",warehouse:""}),V=e=>{U.id=e.id,U.name=e.name,U.coverage_areas=e.coverage_areas.length?e.coverage_areas.map((e=>e.id)):[],U.phone=e.phone,U.email=e.email,U.address=e.address,U.warehouse=e.warehouse,B.value=`${U.warehouse.subdistrict_name} ${U.warehouse.type}  ${U.warehouse.city} - ${U.warehouse.province}`},q=()=>{r.Z.show(),a.dispatch("config/updateBranch",U).then((e=>{200==e.status&&a.commit("SET_BRANCH",e.data.data)})).finally((()=>r.Z.hide()))},k=(0,s.iH)(""),Z=(0,s.Fl)((()=>k.value.length?S.value.filter((e=>e.city_name.toLowerCase().indexOf(k.value)>-1)):S.value)),C=(e,a,l)=>{e.length<2?l():a((()=>{k.value=e.toLowerCase()}))},Q=(0,s.iH)(""),x=(0,s.iH)([]),B=(0,s.iH)(""),F=()=>{Q.value.length>=3&&a.dispatch("branch/findSubdistrict",Q.value).then((e=>{x.value=e.data.results}))},$=e=>{U.warehouse=e,B.value=`${U.warehouse.subdistrict_name} ${U.warehouse.type}  ${U.warehouse.city} - ${U.warehouse.province}`,x.value=[],Q.value=""};return(e,a)=>{const l=(0,t.up)("q-breadcrumbs-el"),n=(0,t.up)("q-breadcrumbs"),i=(0,t.up)("q-input"),r=(0,t.up)("q-icon"),d=(0,t.up)("q-item-section"),y=(0,t.up)("q-item"),S=(0,t.up)("q-list"),V=(0,t.up)("q-select"),k=(0,t.up)("q-btn"),H=(0,t.up)("q-form"),j=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(j,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},(0,o.zw)(W))]),(0,t.Wm)(n,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{label:"Dashboard"}),(0,t.Wm)(l,{label:W})])),_:1})]),(0,t._)("div",p,[(0,t.Wm)(m.Z)]),(0,t._)("div",v,[(0,t.Wm)(H,{onSubmit:(0,u.iM)(q,["prevent"]),class:"q-gutter-y-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{filled:"",modelValue:(0,s.SU)(U).name,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.SU)(U).name=e),label:"Name"},null,8,["modelValue"]),(0,t.Wm)(i,{filled:"",modelValue:(0,s.SU)(U).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(U).phone=e),label:"Phone"},null,8,["modelValue"]),(0,t.Wm)(i,{filled:"",modelValue:(0,s.SU)(U).email,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,s.SU)(U).email=e),label:"Email"},null,8,["modelValue"]),(0,t.Wm)(i,{filled:"",type:"textarea",modelValue:(0,s.SU)(U).address,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,s.SU)(U).address=e),label:"Address"},null,8,["modelValue"]),(0,t._)("div",null,[(0,s.SU)(U).warehouse?((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(i,{modelValue:B.value,"onUpdate:modelValue":a[5]||(a[5]=e=>B.value=e),label:"Warehouse",filled:"",readonly:""},(0,t.Nv)({_:2},[B.value?{name:"append",fn:(0,t.w5)((()=>[(0,t.Wm)(r,{name:"close",onClick:a[4]||(a[4]=e=>(0,s.SU)(U).warehouse=""),class:"cursor-pointer"})]))}:void 0]),1032,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",b,[(0,t.Wm)(i,{placeholder:"Ketik kecamatan",label:"Warehouse",filled:"",options:x.value,"use-input":"",modelValue:Q.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>Q.value=e),F]},null,8,["options","modelValue"]),(0,t._)("div",g,[(0,t._)("div",w,[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(x.value,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.id,onClick:a=>$(e),clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.subdistrict_name)+" "+(0,o.zw)(e.type)+" "+(0,o.zw)(e.city)+" - "+(0,o.zw)(e.province),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])])]))]),(0,t.Wm)(V,{modelValue:(0,s.SU)(U).coverage_areas,"onUpdate:modelValue":a[7]||(a[7]=e=>(0,s.SU)(U).coverage_areas=e),label:"Covearge Area ( multiple )",options:(0,s.SU)(Z),"emit-value":"","map-options":"","use-input":"",multiple:"","use-chips":"",filled:"",placeholder:"Ketik kota / kabupaten",onFilter:C},{"no-option":(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"text-grey"},{default:(0,t.w5)((()=>[f])),_:1})])),_:1})])),_:1},8,["modelValue","options"]),(0,t._)("div",_,[(0,t.Wm)(k,{label:"Cancel",outline:"",color:"primary",to:{name:"BranchIndex"}}),(0,t.Wm)(k,{label:"Submit",type:"submit",unelevated:"",color:"primary"})])])),_:1},8,["onSubmit"])])])),_:1})}}};var S=l(4379),W=l(1481),U=l(5926),V=l(5269),q=l(4842),k=l(4554),Z=l(7011),C=l(3414),Q=l(2035),x=l(9396),B=l(2165),F=l(7518),$=l.n(F);const H=y,j=H;$()(y,"components",{QPage:S.Z,QBreadcrumbs:W.Z,QBreadcrumbsEl:U.Z,QForm:V.Z,QInput:q.Z,QIcon:k.Z,QList:Z.Z,QItem:C.Z,QItemSection:Q.Z,QSelect:x.Z,QBtn:B.Z})},2535:(e,a,l)=>{l.d(a,{Z:()=>c});var t=l(3673);function o(e,a){const l=(0,t.up)("q-route-tab"),o=(0,t.up)("q-tabs");return(0,t.wg)(),(0,t.j4)(o,{align:"left","active-color":"primary","active-bg-color":"green-1","content-class":"bg-grey-2",dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{label:"Branch Setting",to:{name:"BranchConfig"}}),(0,t.Wm)(l,{label:"Paygate Setting",to:{name:"PaygateConfig"}})])),_:1})}var u=l(4260),s=l(7547),n=l(208),i=l(7518),r=l.n(i);const d={},m=(0,u.Z)(d,[["render",o]]),c=m;r()(d,"components",{QTabs:s.Z,QRouteTab:n.Z})}}]);