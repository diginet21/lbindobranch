"use strict";(self["webpackChunklbindobranch"]=self["webpackChunklbindobranch"]||[]).push([[274],{7274:(e,l,a)=>{a.r(l),a.d(l,{default:()=>E});var t=a(3673),n=a(8880),i=a(1959),r=a(3617),s=a(9582);const d=e=>((0,t.dD)("data-v-d57b4be4"),e=e(),(0,t.Cn)(),e),u={class:"q-py-sm"},o=d((()=>(0,t._)("div",{class:"row items-center q-gutter-x-md"},[(0,t._)("div",{class:"title"},"Edit Banner")],-1))),c={class:"card-box card-lg"},m={class:"q-mt-md"},p=d((()=>(0,t._)("div",{class:"text-xs text-grey-7 q-pa-xs"},'Gunakan absolute url jika eksternal link. eg: "https://google.com" ',-1))),b={class:"q-mt-md"},_={class:"q-mt-md"},g={class:"flex justify-between q-mb-md"},v=d((()=>(0,t._)("div",{class:"text-md"},"Banner",-1))),y={class:"bg-grey-2",style:{"min-height":"160px"}},h=["src"],x={key:1,class:"flex justify-center items-center"},q=["onClick"],k=d((()=>(0,t._)("div",{class:"text-grey-7 cursor-pointer"},"Upload Image",-1))),U={class:"submit-block"},f={setup(e){const l=(0,r.oR)(),a=(0,s.yj)(),d=(0,i.iH)(null),f=(0,i.qj)({id:null,title:"",image:"",is_external_url:!1,url_path:"",banner_type:""}),w=(0,i.iH)("");(0,t.wF)((()=>{a.params.id&&B(a.params.id)}));const B=e=>{l.dispatch("banner/getBannerById",e).then((e=>{let l=e.data.data;d.value=l,f.id=l.id,f.title=l.title,f.banner_type=l.banner_type,f.is_external_url=l.is_external_url,f.url_path=l.url_path,w.value=l.asset.src}))},S=(0,i.Fl)((()=>l.state.loading)),W=()=>{l.dispatch("banner/updateBanner",f)},I=e=>{let l=e.target.files[0];if(!l)return;f.image=l;const a=new FileReader;a.onload=e=>{w.value=e.target.result},a.readAsDataURL(l)},V=()=>{document.getElementById("inputFile").click()},Z=["Front","Post"];return(e,l)=>{const a=(0,t.up)("q-breadcrumbs-el"),r=(0,t.up)("q-breadcrumbs"),s=(0,t.up)("q-input"),d=(0,t.up)("q-select"),B=(0,t.up)("q-btn"),C=(0,t.up)("q-icon"),Q=(0,t.up)("q-form"),F=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(F,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",u,[o,(0,t.Wm)(r,{class:"text-grey","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{label:"Dashboard"}),(0,t.Wm)(a,{label:"Banner"}),(0,t.Wm)(a,{label:"Edit"})])),_:1})]),(0,t.Wm)(Q,{onSubmit:(0,n.iM)(W,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(s,{outlined:"",modelValue:(0,i.SU)(f).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.SU)(f).title=e),label:"Label"},null,8,["modelValue"]),(0,t._)("div",m,[(0,t.Wm)(s,{outlined:"",modelValue:(0,i.SU)(f).url_path,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.SU)(f).url_path=e),label:"Path / Url"},null,8,["modelValue"]),p]),(0,t._)("div",b,[(0,t.Wm)(d,{class:"q-mb-md",outlined:"",modelValue:(0,i.SU)(f).banner_type,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.SU)(f).banner_type=e),label:"Banner Type",options:Z},null,8,["modelValue"]),(0,t._)("div",_,[(0,t._)("div",g,[v,(0,t.Wm)(B,{label:"Upload Image",onClick:(0,n.iM)(V,["prevent"]),unelevated:"",color:"primary",size:"12px"},null,8,["onClick"])]),(0,t._)("input",{id:"inputFile",type:"file",onInput:I,class:"hidden"},null,32),(0,t._)("div",y,[w.value?((0,t.wg)(),(0,t.iD)("img",{key:0,src:w.value,class:"img-preview"},null,8,h)):((0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("div",{class:"text-center cursor-pointer",onClick:(0,n.iM)(V,["prevent"])},[(0,t.Wm)(C,{name:"upload",size:"lg",color:"grey-6"}),k],8,q)]))])]),(0,t._)("div",U,[(0,t.Wm)(B,{loading:(0,i.SU)(S),type:"submit",label:"Submit",color:"primary",unelevated:""},null,8,["loading"]),(0,t.Wm)(B,{disable:(0,i.SU)(S),label:"Cancel",color:"primary",outline:"",to:{name:"BannerIndex"}},null,8,["disable"])])])])])),_:1},8,["onSubmit"])])),_:1})}}};var w=a(4260),B=a(4379),S=a(1481),W=a(5926),I=a(5269),V=a(4842),Z=a(9396),C=a(2165),Q=a(4554),F=a(7518),j=a.n(F);const D=(0,w.Z)(f,[["__scopeId","data-v-d57b4be4"]]),E=D;j()(f,"components",{QPage:B.Z,QBreadcrumbs:S.Z,QBreadcrumbsEl:W.Z,QForm:I.Z,QInput:V.Z,QSelect:Z.Z,QBtn:C.Z,QIcon:Q.Z})}}]);